---
sidebar: sidebar 
permalink: virtualization/virt-options-on-netapp.html 
keywords: virtualization, overview, options, vmware, alternatives, hyperv, proxmox, openshift 
summary: このドキュメントでは、仮想化ソリューションに関係なく、NetAppが仮想化環境に最適なプラットフォームである理由の概要を説明します。 
---
= BroadcomによるVMwareライセンスの変更、TCOの最適化、代替ハイパーバイザオプションの明確化
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ../media/


[role="lead"]
このドキュメントでは、仮想化ソリューションに関係なく、NetAppが仮想化環境に最適なプラットフォームである理由の概要を説明します。



== はじめに

VMwareの最近のライセンス変更を考慮すると、企業は仮想化戦略を適用して、コスト効率と拡張性を最大化し、ビジネスリスクを最小限に抑える必要があります。既存のエンタープライズストレージを使用してスタンドアロンvSphereからVMware Cloud Foundation（VCF）に移行し、マルチハイパーバイザーまたはハイブリッドクラウドのアプローチを採用することを検討して、既存のVMware環境を最適化することが重要なステップです。特に、VCF 5.2.1では、vSANの代わりに外部ストレージソリューションを使用できるようにすることで柔軟性が向上し、エンタープライズストレージ機能を使用して継続性を維持しながら、新しいライセンスモデルを採用する組織の能力が簡素化されました。

ONTAPは、オンプレミスまたはクラウドのあらゆるハイパーバイザーに最適なプラットフォームです。ONTAPは、オンプレミス環境の主要なハイパーバイザーをすべてサポートし、各主要クラウドでファーストパーティのデータサービスを提供しており、VMwareのクラウドソリューションとクラウドネイティブワークロードをサポートしています。これにより、ワークロードに適した導入モデルを選択することで、ライセンスの変更に簡単に対応できます。

このホワイトペーパーでは、VMwareの導入コストを最適化するための戦略の概要、マルチハイパーバイザーの導入状況の評価、vSphereからVCFへのVMの移行、代替ハイパーバイザーへのVMの移行について詳しく説明し、利用可能なすべてのオプションについて説明します。



== 変更された点

BroadcomによるVMwareの買収は、VMwareのライセンスモデルに大きな変化をもたらしました。この新しいアプローチでは、業界のトレンドに沿って、サブスクリプションベースのバンドル価格体系に移行することで、お客様のコストが大幅に上昇することが予想されます。ここでは、主に次の3つの点に注意してください。

*サブスクリプションベースのライセンス*: VMwareは永久ライセンスからサブスクリプションベースのモデルに移行しています。

*バンドルパッケージ*：VMware Cloud Foundation（VCF）は、企業とサービスプロバイダ向けの単一のサービスとして複数の製品をバンドルします。

*ソケット単位からコア単位へ*:ソケット単位からCPUコア単位への価格変更は、コストを大幅に増加させる可能性のある大幅な変更を示しています。

*重要なポイント*-これらの変更により、お客様は仮想化ニーズを評価し、使用率をより効果的に最適化し、代替オプションを検討する必要があります。



== ONTAPを選ぶ理由

NetAppストレージソリューションは、お客様が仮想インフラのあらゆるメリットを最大限に活用できるよう支援します。NetAppソリューションを使用すると、包括的なデータ管理ソフトウェアを迅速に導入して、自動化、効率化、データ保護、業界をリードするセキュリティ機能を実現しながら、厳しいパフォーマンスニーズにも対応できます。ONTAPソフトウェアとVMware vSphereを組み合わせることで、ホストハードウェアとVMwareのライセンスコストを削減し、低コストでデータを確実に保護し、一貫した高パフォーマンスを実現できます。

仮想化されたワークロードは本質的に動的です。そのため、管理者はVMware Storage vMotionを使用して、VMFS、NFS、またはvVolのデータストア間でVMを移行できます。すべて同じストレージシステム内で実行できます。これにより、オールフラッシュシステムや最新のASAモデルなど、さまざまなストレージ戦略を検討し、SANの革新的なテクノロジを活用してコスト効率を高めることができます。

image:virt-options-image1.png["NetApp ONTAPのメリットの図"]

ONTAPストレージソリューションには、次のようなメリットがあります。

* *個別の拡張：*ワークロードのデータ管理、保護、モビリティをvSphereと統合されたストレージにオフロードし、コンピューティングリソースを追加することなくストレージを拡張
* *驚異的な高速パフォーマンス：*最先端のNVMeおよびASAアーキテクチャにより、1ミリ秒未満のレイテンシと高スループットを実現します。従来のVMや最新のKubernetes環境やAI環境向けに、フラッシュ、NVMe、GPUのパフォーマンスを最適化します。
* *包括的なデータサービス：*組み込み機能を使用してデータを圧縮、重複排除、コンパクトにすることで、ストレージ容量を5分の1から30分の1に削減し、データセンターの効率性を85～90%向上
* *シームレスなクラスタリングと高可用性:* SnapMirrorアクティブ同期またはMetroClusterを利用して、容易なストレッチクラスタリングと堅牢なディザスタリカバリを実現します。
* *マルチプロトコル：* ONTAPは、複数のプロトコル（NFS、iSCSI、SMB、S3）を使用したデータアクセスをサポートしています。ONTAPを実行するシステムは、いくつかの重要な方法で統合されています。当初、このアプローチは NAS プロトコルと SAN プロトコルの両方を指していましたが、 ONTAP は業界をリードする SAN プラットフォームであり続けており、 NAS における従来の強みもあります。
* *プロビジョニングとオーケストレーションの自動化：* VMwareおよびそのREST API、vSphereプラグイン、SPBM（ストレージポリシー）向けのONTAPツールを活用して、ストレージ管理を自動化および合理化します。
* *統合データプロテクションと低コストのディザスタリカバリ：* NetApp SnapCenterを使用して仮想ワークロードのバックアップとリストアをオフロードします。NetApp BlueXP  のディザスタリカバリサービス（DRaaS）を活用して、RPOを短縮し、データレプリケーションのRTOを短縮します。これにより、コストのかかる代替インフラストラクチャが不要になり、VMwareワークロードの災害対策を手頃な価格で提供できます。オンプレミスからオンプレミスのNetApp ONTAP環境、またはVMware Cloudのいずれであっても、NetApp搭載のストレージが堅牢な保護を保証します。
* *ランサムウェア検出：*組み込みの自律型ランサムウェア対策とゼロトラストの互換性により、VMwareレベルのセキュリティとコンプライアンスをデータに拡張し、多要素認証、ロールベースアクセス、包括的なロギング、ユーザ行動の異常検出を可能にすることで、保護、検出、修復、リカバリの機能を強化
* *統合されたハイブリッドクラウド：*ワークロードの移動、バックアップとリストア、ディザスタリカバリをハイパースケーラクラウド（Elastic VMware Service、Azure VMware Solution、Google Cloud VMware Engine）で簡易化、統合
* *ストレージライフサイクルプログラム（SLP）：*システムを停止することなく次世代コントローラにアップグレードするか、クラウドストレージを選択します（移行の準備が整っている場合）。




=== 重要なポイント

* ONTAPを使用すると、ストレージ効率化、暗号化、Snapshotなど、CPU負荷の高いタスクをオフロードして、ESXiホストのCPUへの影響とオーバーヘッドを排除できます。この最適化により、各ホストに必要なコア数が減り、総所有コスト（TCO）が削減されます。
* ONTAPを使用すれば、初期容量から始めて、優れたデータ削減と移動の手法を活用して、ホストを新規に追加することなくコストを20~50%削減できます。
* ONTAPストレージは、特定のクラスタに限定されずに複数のワークロードドメインで使用できるため、複数のクラスタ間の全体的な利用率が向上します。
* ONTAP SnapshotはSnapCenterと統合されており、VMレベルとデータストアレベルの両方のバックアップときめ細かなリストアに対して、卓越したコストフリーのデータ保護を提供します。さらに、ONTAPを使用すると、Snapshotをオブジェクトストレージにオフロードして長期保持を実現できます。
* RAIDやストレージプールを設定しなくても、継続的なデータ削減と暗号化が可能なシームレスなストレージを実現できます。
* ONTAP Oneを使用すると、ライセンスの制約を受けることなく、ONTAPのすべての機能と堅牢なセキュリティにアクセスできます。NetApp BlueXP  DRaaSと組み合わせることで、コストをさらに削減できます。




== サイズの適正化と最適化

このようなライセンスの変更が効果的になるにつれて、すべてのIT組織は、総所有コスト（TCO）が10倍以上になる可能性があるというストレスにさらされています。適切に最適化されたVMware環境は、ライセンスコストを抑制しながらパフォーマンスを最大化します。これにより、効果的なリソース管理とキャパシティプランニングが保証されます。適切なツールセットを使用すれば、無駄なリソースやアイドル状態のリソースをすばやく特定してコアを再利用できるため、コア数を減らして全体的なライセンスコストを削減できます。

NetAppは、これらの課題を克服する強力なツールスイートを提供し、可視性の向上、シームレスな統合、コスト効率、堅牢なセキュリティを実現します。これらの機能を使用することで、企業はこの混乱の中でも生き残り、繁栄することができ、将来起こりうるあらゆる課題に備えることができます。注：ほとんどの組織は、クラウド評価の一環としてすでにこれを実施しています。オンプレミス環境でのコストパニックを回避し、感情に左右される即時の移行コストを代替ハイパーバイザーに削減するのに役立つのは、同じプロセスとツールです。



=== NetAppのメリット



==== NetApp TCO試算ツール：NetAppの無料TCO試算ツール

* シンプルなHTMLベースの計算ツール
* NetApp VMDC、RVTools、または手動入力方式を使用
* NetApp ONTAPストレージシステムを使用すると、特定の導入に必要なホスト数を簡単に予測し、削減効果を計算して導入を最適化できます。
* 可能な削減量を示します。



NOTE: は、link:https://tco.solutions.netapp.com/vmwntaptco/["TCO試算ツール"]NetAppのフィールドチームとパートナー様のみがアクセスできます。NetAppアカウントチームと協力して、既存の環境を評価します。



==== VMデータコレクタ（VMDC）：NetAppの無償のVMware評価ツール

* 構成データとパフォーマンスデータをポイントインタイムで軽量に収集
* Webインターフェイスを使用したWindowsベースのシンプルな導入
* VMトポロジの関係を可視化し、Excelレポートをエクスポート
* 特にVMwareコアライセンスの最適化を対象としています。


VMDCが使用可能link:https://mysupport.netapp.com/site/tools/tool-eula/vm-data-collector/["ここをクリック"]です。



==== データインフラに関するインサイト（旧称Cloud Insights）

* ハイブリッド/マルチクラウド環境全体をSaaSベースで継続的に監視
* Pure、Dell、HPEストレージシステム、vSANなどの異機種混在環境をサポート
* AI / MLを活用した高度な分析機能で孤立したVMや未使用のストレージ容量を特定し、VMの再利用に関する詳細な分析と推奨事項を提供します。
* 移行前にVMのサイズを適正化し、移行前、移行中、移行後に重要なアプリケーションがSLAを満たすようにするためのワークロード分析機能を提供します。
* 30日間の無償トライアル期間で利用可能


DIIでは、リアルタイムの指標を使用して、仮想マシン全体のワークロードIOプロファイルを詳細に分析します。


NOTE: NetAppでは、NetApp®アーキテクチャおよび設計サービスの機能である仮想化最新化評価と呼ばれる評価を提供しています。各VMは、CPU利用率とメモリ利用率の2つの軸にマッピングされます。ワークショップでは、リソースの効果的な利用とコスト削減を促進するために、オンプレミスの最適化戦略とクラウド移行戦略の両方について、すべての詳細をお客様に提供します。これらの戦略を実装することで、コストを効果的に管理しながら、ハイパフォーマンスなVMware環境を維持できます。



==== 重要なポイント

VMDCは、異機種混在環境全体で継続的な監視と高度なAI / MLベースの分析のためのDIIを実装する前の、迅速な最初の評価ステップとして機能します。



==== VCFインポートツール：NFSまたはFCをプリンシパルストレージとして使用してVCFを実行

VMware Cloud Foundation（VCF）5.2のリリースでは、既存のvSphereインフラをVCF管理ドメインに変換し、追加のクラスタをVCF VIワークロードドメインとしてインポートできるようになりました。これにより、vSANを使用することなく、VMware Cloud Foundation（VCF）をNetAppストレージプラットフォーム上で完全に実行できるようになります（vSANを使用しない場合はすべて可能です）。ONTAPで実行されている既存のNFSまたはFCデータストアを使用してクラスタを変換するには、既存のインフラを最新のプライベートクラウドに統合する必要があります。つまり、vSANは必要ありません。このプロセスは、NFSストレージとFCストレージの柔軟性のメリットを活かして、シームレスなデータアクセスと管理を実現します。変換プロセスによってVCF管理ドメインが確立されたら、管理者は、NFSまたはFCデータストアを使用するvSphereクラスタを含む追加のvSphereクラスタをVCFエコシステムに効率的にインポートできます。この統合により、リソース利用率が向上するだけでなく、プライベートクラウドインフラの管理も簡易化され、既存のワークロードへの影響を最小限に抑えながらスムーズに移行できます。


NOTE: プリンシパルストレージとして使用する場合にのみ、NFS v3およびFCプロトコルがサポートされます。補完的ストレージは、vSphereでサポートされているNFSプロトコルv3または4.1のいずれかを使用できます。



==== 重要なポイント：

既存のESXiクラスタをインポートまたは変換することで、既存のONTAPストレージをデータストアとして活用できます。vSANや追加のハードウェアリソースを導入する必要がないため、VCFのリソース効率が向上し、コストが最適化され、シンプルになります。



==== ONTAPストレージを使用した既存のvSphereからVCFへの移行

VMware Cloud Foundationが新規インストール（新しいvSphereインフラとSingle Sign-Onドメインの作成）の場合、古いバージョンのvSphereで実行されている既存のワークロードをCloud Foundationから管理することはできません。最初のステップでは、既存のvSphere環境で実行されている現在のアプリケーションVMをCloud Foundationに移行します。移行パスは、移行の選択肢（ライブ、ウォーム、コールド）と、既存のvSphere環境のバージョンによって異なります。以下に、ソースストレージに応じた優先順位のオプションを示します。

* HCxは、Cloud Foundationワークロードモビリティで現在利用可能な最も機能豊富なツールです。
* NetApp BlueXP  DRaaSを活用
* SRMを使用したvSphereレプリケーションは、使いやすいvSphere移行ツールです。
* VAIOとVADPを使用したサードパーティ製ソフトウェアの使用




==== NetApp以外のストレージからONTAPストレージへのVMの移行

ほとんどの場合、最も簡単な方法はStorage vMotionを使用することです。クラスタは、新しいONTAP SANまたはNASデータストアと、VMの移行元のストレージ（SAN、NASなど）の両方にアクセスできる必要があります。vSphere Web Clientで1つ以上のVMを選択し、選択したVMを右クリックして[Migrate]をクリックします。[storage-only]オプションを選択し、デスティネーションとして新しいONTAPデータストアを選択して、移行ウィザードの最後の手順に進みます。vSphereは、ファイル（VMX、NVRAM、VMDKなど）を古いストレージからONTAPで動作するデータストアにコピーします。vSphereは大量のデータをコピーする可能性があることに注意してください。この方法ではダウンタイムは必要ありません。移行中もVMは引き続き実行されます。その他のオプションには、ホストベースの移行や、移行を実行するためのサードパーティのレプリケーションがあります。



==== ストレージSnapshotを使用したディザスタリカバリ（ストレージレプリケーションでさらに最適化）

NetAppは、コストを大幅に削減し、複雑さを軽減する、業界をリードするSaaSベースのディザスタリカバリ（DRaaS）ソリューションを提供します。高価な代替インフラを購入して導入する必要はありません。

本番用サイトからディザスタリカバリサイトへのブロックレベルのレプリケーションを通じてディザスタリカバリを実装することは、サイトの停止やランサムウェア攻撃などのデータ破損イベントからワークロードを保護するための、耐障害性と対費用効果に優れた方法です。NetApp SnapMirrorレプリケーションを使用すると、NFSまたはVMFSデータストアを使用するオンプレミスのONTAPシステムで実行されているVMwareワークロードを、VMwareも導入されている指定のリカバリデータセンターにある別のONTAPストレージシステムにレプリケートできます。

NetApp BlueXP  コンソールに統合されたBlueXP  ディザスタリカバリサービスを使用します。このサービスでは、オンプレミスのVMware vCenterとONTAPストレージの検出、リソースグループの作成、ディザスタリカバリ計画の作成、リソースグループへの関連付け、フェイルオーバーとフェイルバックのテストまたは実行を行うことができます。SnapMirrorは、ストレージレベルのブロックレプリケーションを提供し、増分変更によって2つのサイトを最新の状態に保ちます。その結果、RPOは最大5分になります。また、本番環境やレプリケートされたデータストアに影響を与えたり、追加のストレージコストをかけたりすることなく、DR手順を定期的にシミュレートすることもできます。BlueXP  ディザスタリカバリでは、ONTAPのFlexCloneテクノロジを活用して、DRサイトに最後にレプリケートされたSnapshotからNFSまたはVMFSデータストアのスペース効率に優れたコピーを作成します。DRテストが完了したら、レプリケートされた実際の本番リソースに影響を与えることなく、テスト環境を削除するだけです。数回クリックするだけで、実際のフェイルオーバーが（計画的または計画外で）必要になった場合は、BlueXP  ディザスタリカバリサービスによって、指定されたディザスタリカバリサイトで保護対象の仮想マシンを自動的に起動するために必要なすべての手順がオーケストレーションされます。また、SnapMirror関係をプライマリサイトに反転し、必要に応じてフェイルバック処理のために変更をセカンダリからプライマリにレプリケートします。これらはすべて、他の有名な代替案と比較して数分の1のコストで達成できます。


NOTE: その他の主要な代替オプションとして、レプリケーション機能とVMware Live Recovery with SRAをサポートするサードパーティのバックアップ製品があります。



==== ランサムウェア

ランサムウェアの拡散を防ぎ、コストのかかるダウンタイムを回避するには、ランサムウェアをできるだけ早く検出することが重要です。効果的なランサムウェア検出戦略には、ESXiホストレベルとゲストVMレベルで複数の保護レイヤを組み込む必要があります。ランサムウェア攻撃に対する包括的な防御を構築するために複数のセキュリティ対策が実装されていますが、ONTAPを使用すると、防御アプローチ全体に保護レイヤを追加できます。いくつかの機能を挙げると、まずはSnapshot、自律型ランサムウェア対策、改ざん防止Snapshotから始めます。

前述の機能がVMwareとどのように連携してランサムウェアからデータを保護、リカバリするかを見てみましょう。

vSphere VMとゲストVMを攻撃から保護するには、エンドポイントのセグメント化、EDR/XDR/SIEMの利用、セキュリティ更新プログラムのインストール、適切なセキュリティ強化ガイドラインの遵守など、いくつかの対策を講じることが重要です。データストア上の各仮想マシンは、標準のオペレーティングシステムもホストします。エンタープライズサーバのマルウェア対策製品スイートがインストールされ、定期的に更新されていることを確認します。これは、多層的なランサムウェア対策戦略に不可欠なコンポーネントです。これに加えて、データストアに電力を供給するNFSボリュームでAutonomous Ransomware Protection（ARP）を有効にします。ARPは、ボリュームワークロードのアクティビティとデータエントロピーを監視する組み込みのオンボックスMLを活用して、ランサムウェアを自動的に検出します。ARPは、ONTAPの組み込みの管理インターフェイスまたはSystem Managerを使用して設定でき、ボリューム単位で有効になります。

複数階層型アプローチに加えて、標準で組み込まれているONTAPソリューションを使用して、バックアップSnapshotコピーの不正な削除を保護できます。これは、ONTAP 9.11.1以降で使用できるマルチ管理者検証（MAV）と呼ばれます。理想的なアプローチは、MAV固有の操作にクエリを使用することです。


NOTE: 新しいNetApp ARP/AIでは、ラーニングモードは必要ありません。AIを活用したランサムウェア検出機能で、すぐにアクティブモードに切り替えることができます。



==== 重要なポイント

ONTAP Oneでは、追加レイヤとして機能するすべてのセキュリティフィーチャセットを完全に無料で利用できます。NetAppの堅牢なデータ保護、セキュリティ、ONTAPが提供するすべての機能を、ライセンスの障壁を気にすることなく利用できます。



== 検討すべきVMwareの代替案

あらゆる組織が、マルチベンダーのハイパーバイザー戦略をサポートするマルチハイパーバイザーアプローチを評価しています。これにより、運用の柔軟性が強化され、ベンダーへの依存が軽減され、ワークロードの配置が最適化されます。複数のハイパーバイザーを組み合わせることで、コストを管理しながら、多様なワークロードのニーズに合わせてインフラを調整できます。さらに、相互運用性、対費用効果の高いライセンス、自動化を活用して、マルチハイパーバイザー管理を合理化できます。ONTAPは、あらゆるハイパーバイザープラットフォームに最適なプラットフォームです。このアプローチの重要な要件は、SLAとワークロード配置戦略に基づく動的な仮想マシンモビリティです。



=== マルチハイパーバイザー採用に関する主な考慮事項

* *戦略的コスト最適化：*単一ベンダーへの依存を減らすことで、運用コストとライセンスコストを最適化できます。
* *ワークロードの分散：*適切なワークロードに適切なハイパーバイザーを導入することで、効率を最大限に高めることができます。
* *柔軟性：*ビジネスアプリケーションの要件に基づいてVMを最適化し、データセンターの最新化と統合をサポートします。


このセクションでは、組織が優先順位に従って検討しているさまざまなハイパーバイザーについて簡単に説明します。


NOTE: これらは、組織で検討されている一般的な代替オプションですが、優先順位は、評価、スキルセット、ワークロードの要件に基づいて顧客ごとに異なります。

image:virt-options-image2.png["NetAppでサポートされる仮想化オプションの図"]



=== Hyper-V（Windows Server）

詳しく見ていきましょう。

* Windows Serverバージョンのよく知られた組み込み機能。
* Windows Server内の仮想マシンの仮想化機能を有効にします。
* System Centerスイート（SCVMMおよびSCOMを含む）の機能と統合すると、Hyper-Vは他の仮想化ソリューションに匹敵する包括的な機能セットを提供します。




==== 統合

* NetApp SMI-Sプロバイダは、SANとNASの両方の動的ストレージ管理をSystem Center Virtual Machine Manager（SCVMM）と統合します。
* 多くのサードパーティ製バックアップパートナーは、ONTAPスナップショットとSnapMirrorサポートの統合もサポートしており、アレイネイティブのバックアップとリカバリを完全に最適化できます。
* ONTAPは、柔軟性とストレージ消費を実現するためにSANとNAS間のネイティブコピーオフロードを可能にする唯一のデータインフラシステムです。また、ONTAPは、NAS（SMB3 TRIM over SMB/CIFS）プロトコルとSAN（iSCSIおよびFCP with SCSI UNMAP）プロトコルの両方でネイティブのスペース再生も提供します。
* SnapManager for Hyper-Vによるきめ細かなバックアップとリカバリ（PVRのサポートが必要）Hyper-Vは、次のような場合に適しています。
* 最近、新しいハードウェアにアップグレードしたか、オンプレミスのインフラに多額の投資を行った。
* ストレージにSANまたはNASを使用（Azure Stack HCIは選択不可）
* ストレージとコンピューティングを個別に拡張する必要があるハードウェアへの投資、政治情勢、コンプライアンス、アプリケーション開発などの既存の障害が原因で最新化できない




=== OpenShift仮想化（RedHat KubeVirt実装）

詳しく見ていきましょう。

* コンテナで実行されるKVMハイパーバイザーを使用し、ポッドとして管理
* Kubernetesでスケジュール設定、導入、管理
* OpenShift Webインターフェイスを使用した、仮想マシンとそのリソースの作成、変更、削除
* コンテナオーケストレーションツールのリソースやサービスと統合し、永続的ストレージのパラダイムを実現




==== 統合

* Trident CSIでは、NFS、FC、iSCSI、NVMe/TCP経由で、VM単位でクラスフルな方法でストレージを動的に管理できます。
* プロビジョニング、スナップショット作成、ボリューム拡張、クローン作成用のTrident CSI
* Trident Protectは、OpenShift仮想化VMのcrash-consistentバックアップとリストアをサポートし、S3互換の任意のオブジェクトストレージバケットに格納します。
* Trident Protectは、OpenShift仮想化VMのストレージレプリケーションと自動フェイルオーバー/フェイルバックにより、ディザスタリカバリも提供します。


OpenShiftによる仮想化は、次のような場合に有効です。

* 仮想マシンとコンテナを単一プラットフォームに統合
* OpenShiftの仮想化はOpenShiftの一部であり、コンテナワークロード用にすでにライセンスが付与されている可能性があるため、ライセンスのオーバーヘッドを削減できます。
* 導入直後から完全なリファクタリングを行うことなく、レガシーVMをクラウドネイティブのエコシステムに移行できます。




=== Proxmox仮想環境（Proxmox VE）

詳しく見ていきましょう。

* Qemu KVMおよびLXC向けの包括的なオープンソース仮想化プラットフォーム
* LinuxディストリビューションDebianに基づく
* スタンドアロンマシンとしても、複数のマシンで構成されるクラスタ内でも操作できます。
* 仮想マシンやコンテナのシンプルで効率的な導入
* 使いやすいWebベースの管理インターフェイスと、ライブマイグレーションやバックアップオプションなどの機能。




==== 統合

* iSCSI、NFS v3、v4.1、v4.2を使用
* 高速クローニング、Snapshot、レプリケーションなど、ONTAPが提供する優れた機能がすべて含まれています。
* nconnectオプションを使用すると、高いNFSワークロードに対して、サーバあたりのTCP接続数を最大16まで増やすことができます。


Proxmoxは次のような場合に有効です。

* オープンソースでライセンスコストを削減
* 使いやすいWebインターフェイスで管理を合理化
* 仮想マシンとコンテナの両方をサポートし、柔軟性を提供します。
* VM、コンテナ、ストレージ、ネットワークを単一のインターフェイスで管理
* 制限のない機能へのフルアクセス
* credativによるプロフェッショナルサービスとサポート




=== VMware Cloudサービス（Azure VMware Solution、Google Cloud VMware Engine、VMware Cloud on AWS、Elastic VMware Service）

詳しく見ていきましょう。

* クラウドのVMwareは、それぞれのハイパースケーラデータセンターでホストされる「プライベートクラウド」を提供し、専用のベアメタルインフラを使用してVMwareインフラをホストします。
* vCenter、vSphere、vSAN、NSXなどのVMware機能を使用して、クラスタあたり最大16台のホストをサポート
* 迅速な導入とスケールアップ/スケールダウン
* 柔軟な購入オプション：時間単位のオンデマンド、1年または3年のリザーブドインスタンス。一部のハイパースケーラでは5年のオプションを選択できます。
* オンプレミスのVMwareからクラウドのVMwareに移行するための、使い慣れたツールとプロセスを提供します。




==== 統合


NOTE: NetAppは、主要な3大ハイパースケーラすべてで、クラウド内のVMwareでファーストパーティの統合ハイパフォーマンスストレージをサポートしている唯一の外部ストレージベンダーです。

* 各クラウドのNetApp搭載ストレージ（Azure NetApp Files、FSx for ONTAP、Google Cloud NetAppボリューム）は、コンピューティングノードを追加するのではなく、vSANストレージを補完します。
* 一貫したパフォーマンス、従量課金制のファイルストレージサービス
* 効率的なSnapshotとクローンにより、大規模なコピーやチェックポイント変更を迅速に作成
* ブロック転送ベースの効率的な差分レプリケーションで、地域ごとのDRとバックアップを実現
* NetAppを基盤とするクラウドストレージをデータストアとして使用すると、大量のストレージを必要とするアプリケーションの実行コストが削減される
* ゲストが管理するNFSやiSCSIなどのゲスト所有のファイルシステムを、外部データストアの接続とは別にハイパフォーマンスワークロードにマウントできる


VMware Cloudサービスに移行する理由：

* ストレージ負荷の高い環境では、コンピューティングノードを追加する代わりにストレージ容量をオフロードすることでコストを削減
* Hyper-VやAzure Stack、場合によってはネイティブのVM形式に移行するよりも、アップスキルが少ない
* 最大3年または5年の間、他のライセンスコストの変更の影響を受けない価格設定をロック（クラウドプロバイダによって異なります）。
* BYOL（お客様所有のライセンスを使用）に対応
* オンプレミスからの移行と切り替えにより、主な領域でコスト削減の可能性がある。
* ディザスタリカバリ機能をクラウドに構築または移行してコストを削減し、運用の負担を軽減


任意のハイパースケーラでVMware Cloudをディザスタリカバリのターゲットとして使用したいお客様は、ONTAPストレージを基盤とするデータストア（Azure NetApp Files、FSx ONTAP、Google Cloud NetAppボリューム）を使用して、VMレプリケーション機能を提供する検証済みのサードパーティソリューションを使用して、オンプレミスからデータをレプリケートできます。ONTAPストレージを基盤とするデータストアを追加することで、より少ない数のESXiホストで、デスティネーションでのディザスタリカバリのコストを最適化できます。また、オンプレミス環境のセカンダリサイトの運用を停止できるため、コストを大幅に削減できます。

* の詳細なガイダンスを表示しますlink:https://docs.netapp.com/us-en/netapp-solutions/ehc/veeam-fsxn-dr-to-vmc.html["FSx ONTAPデータストアへのディザスタリカバリ"]。
* の詳細なガイダンスを表示しますlink:https://docs.netapp.com/us-en/netapp-solutions/ehc/azure-native-dr-jetstream.html["Azure NetApp Filesデータストアへのディザスタリカバリ"]。
* の詳細なガイダンスを表示しますlink:https://docs.netapp.com/us-en/netapp-solutions/ehc/gcp-app-dr-sc-cvs-veeam.html["Google Cloud NetApp Volumeデータストアに対するディザスタリカバリ"]。




=== クラウドネイティブの仮想マシン


NOTE: NetAppは、主要な3大ハイパースケーラすべてのクラウドで、ファーストパーティのハイパフォーマンスマルチプロトコルストレージを統合している唯一のベンダーです。

詳しく見ていきましょう。

* 柔軟な仮想マシンサイズでコンピューティングリソースを最適化し、特定のビジネスニーズを満たし、不要なコストを排除します。
* クラウドの柔軟性で将来へのスムーズな移行を実現NetAppベースのストレージを使用してクラウドネイティブの仮想マシンに移行する理由：
* シンプロビジョニング、Storage Efficiency、ゼロフットプリントのクローン、統合バックアップ、ブロックレベルのレプリケーション、階層化などのエンタープライズストレージ機能を活用して移行作業を最適化し、導入直後から将来を見据えた導入を実現
* ONTAPを組み込み、クラウド内のネイティブクラウドインスタンスで使用されている現在のストレージ環境を最適化することで、クラウド内のネイティブクラウドインスタンスで使用されているストレージ環境を最適化
* コスト削減能力
+
** ONTAPデータ管理手法の使用
** 多数のリソースを予約することで
** バースト可能な仮想マシンとスポット仮想マシンを使用


* AIやMLなどの最新テクノロジを活用
* IOPSとスループットに必要なパラメータを満たすようにクラウドインスタンスのサイズを適正化することで、ブロックストレージソリューションに比べてインスタンスの総所有コスト（TCO）を削減できます。




=== Azure Local、AWS Outpost、またはその他のHCIモデル

詳しく見ていきましょう。

* 検証済みのソリューションで実行
* ハイブリッドクラウドやマルチクラウドのコアとして機能するために、オンプレミスに導入できるパッケージソリューション。
* ユーザは、オンプレミス、クラウド、ハイブリッドなど、あらゆる環境に合わせてカスタマイズされたクラウドのインフラ、サービス、API、ツールを利用できます。



NOTE: HCI互換ハードウェアを所有しているか、リース/購入している必要があります。


NOTE: Azure Localは外部ストレージをサポートしていないが、AWS OutpostはONTAPをサポートしている

Azure LocalまたはAWS Outpostに移行する理由：

* HCIと互換性のあるハードウェアをすでに所有している場合
* ワークロードの実行とデータストレージを管理
* ローカルのデータ常駐に対応し、それぞれのサービス、ツール、APIを使用してローカルのデータを処理
* ゲストVMのiSCSI、NFS、SMB接続にはゲスト接続ストレージを使用します。


短所

* SAN、NAS、スタンドアロンのストレージ構成をサポートしていないオプションもあります。
* ストレージとコンピューティングの個別拡張はサポートされない




=== お客様の環境で検討中のその他のハイパーバイザーオプション

* *KVM*は通常、親LinuxディストリビューションごとにONTAPでサポートされています。リファレンスLinuxについては、IMTを参照してください。
* * SUSE Harvester *は、Linux、KVM、Kubernetes、KubeVirt、Longhornなどのエンタープライズクラスのオープンソーステクノロジーを使用してベアメタルサーバー向けに構築された最新のハイパーコンバージドインフラストラクチャ（HCI）ソリューションです。データセンターとエッジでクラウドネイティブと仮想マシン（VM）のワークロードを実行するための柔軟で手頃な価格のソリューションを探しているユーザ向けに設計されたHarvesterは、仮想化とクラウドネイティブのワークロード管理のための単一コンソールを提供します。NetApp Astra Trident CSIドライバをHarvesterクラスタに組み込むことで、NetAppストレージシステムは、Harvesterで実行されている仮想マシンで使用可能なストレージボリュームを格納できます。
* * Red Hat OpenStack Platform *およびOpenStackは、一般的に信じられないほどのプライベートクラウドソリューションであり、NetAppユニファイドドライバーがアップストリームのOpenStackコードに組み込まれているため、NetAppデータ管理の統合が組み込まれています。つまり、インストールする必要はありません。ストレージ管理機能は、ブロックプロトコルではNVMe、iSCSIまたはFC、NASではNFSをサポートします。シンプロビジョニング、動的なストレージ管理、コピーオフロード、Snapshotがすべて標準でサポートされます。




==== 重要なポイント

ONTAPは、オンプレミスのあらゆるハイパーバイザーやクラウドのあらゆるワークロードに適したプラットフォームです。ONTAPはオンプレミス環境で卓越したハイパーバイザーをサポートしており、各クラウドにファーストパーティ製品が広く採用されています。これにより、お客様は適切な導入モデルをナビゲートすることで、ライセンスの変更を簡単に処理できます。

image:virt-options-image3.png["仮想化に対するNetAppのAny to Anyアプローチを示す図"]

要約すると、VMwareは依然として組織の事実上のハイパーバイザーであり続けています。ただし、すべてのIT組織が代替オプションを評価しており、ONTAPは選択したオプションで重要な役割を果たします。



== 驚異的な高速（100倍高速）移行



=== Shiftツールキット

前述のように、VMware、Microsoft Hyper-V、Proxmox、OpenShift Virtualizationなどのソリューションは、仮想化ニーズに対応する堅牢で信頼性の高い選択肢となっています。ビジネス要件が動的であることを考慮すると、仮想化プラットフォームの選択にも適応性があり、仮想マシンの瞬時のモビリティが重要になります。

ハイパーバイザー間の移行には、企業の意思決定プロセスが複雑になります。主な考慮事項には、アプリケーションの依存関係、移行のタイムライン、ワークロードの重要度、アプリケーションのダウンタイムがビジネスに与える影響などがあります。ただし、にONTAPストレージとShiftツールキットを使用すれば、簡単に移行できます。

NetApp Shiftツールキットは、さまざまなハイパーバイザー間で仮想マシン（VM）を移行したり、仮想ディスク形式を変換したりできる、使いやすいグラフィカルユーザインターフェイス（GUI）ソリューションです。NetApp FlexClone®テクノロジを利用して、VMのハードディスクを迅速に変換します。さらに、このツールキットは、デスティネーションVMの作成と構成を管理します。

詳細については、を参照してくださいlink:https://docs.netapp.com/us-en/netapp-solutions/vm-migrate/shift-toolkit-overview.html["仮想環境間での仮想マシン（VM）の移行（Shift Toolkit）"]。

image:virt-options-image4.png["NetApp Shiftツールキットの変換オプションを示す図"]


NOTE: Shiftツールキットの前提条件は、ONTAPストレージ上にあるNFSボリュームでVMを実行することです。つまり、VMがブロックベースのONTAPストレージ（特にASA）またはサードパーティのストレージでホストされている場合は、Storage vMotionを使用して、指定したONTAPベースのNFSデータストアにVMを移動する必要があります。Shiftツールキットはここからダウンロードでき、Windowsシステムでのみ使用できます。



=== Cirrus Data MigrateOps

Shiftツールキットの代わりに、ブロックレベルのレプリケーションに依存するパートナーベースのソリューションがあります。Cirrus Dataは、従来のハイパーバイザーから最新のプラットフォームにワークロードをシームレスに移行し、より柔軟なハイブリッドワークロード、最新化の取り組みの加速、リソース利用率の向上を実現します。link:https://action.cirrusdata.com/virtualization-optimization#:~:text=Migrate%20from%20leading%20hypervisors%20with%20just%20a%20click.,from%20Amazon%20Web%20Services%20%28AWS%29%20and%20Microsoft%20Azure.["Cirrus Migrate Cloud"]は、MigrateOps™と組み合わせることで、安全で使いやすく信頼性の高いソリューションを使用して、ハイパーバイザー間の変更を自動化することができます。

*重要なポイント：* VMwareから別のハイパーバイザーにVMを移行するには、複数の方法があります。Veeam、CommVault、StarWind、SCVMMなどがあります。ここでの目的は、可能なオプションを紹介することですが、Shiftツールキットは最速の移行オプションを桁違いに提供します。シナリオに応じて、代替の移行オプションを採用できます。



== 共通の予測導入モデル（マルチハイパーバイザー環境）

あるお客様は、10、000台のVM（WindowsとLinuxのワークロードが混在）で構成された大規模な仮想環境を使用していました。ライセンスコストを最適化し、仮想化インフラストラクチャの将来を簡素化するためには、マルチハイパーバイザーと仮想マシンの配置戦略が重要でした。ワークロードの重要度、オペレーティングシステムのタイプ、パフォーマンス要件、ハイパーバイザー機能、ライセンスコストに基づいてVMの配置戦略を選択しました。

組織化戦略は、次の3つのハイパーバイザーに分割されました。

* VMware vSphere→ビジネスクリティカルなアプリケーションをサポートする重要なワークロードをVMware上に維持
* Microsoft Hyper-V→Windows VM 5、000台をHyper-Vに移行、Windowsライセンスのメリットを活用
* OpenShift Virtualization→3、000台のLinux VMを移行して、コスト効率とKubernetesネイティブの管理を実現します。


このマルチハイパーバイザーアプローチは、コスト、パフォーマンス、柔軟性のバランスを取り、重要なワークロードをVMware上に維持します。また、WindowsとLinuxのワークロードはShiftツールキットを使用して最適化されたハイパーバイザープラットフォームに移行し、効率と拡張性を確保します。上記は一例ですが、アプリケーションレベルごとに異なる組み合わせや組み合わせを適用して環境を最適化することができます。



== まとめ

Broadcomの買収を受けて、VMwareのお客様は統合、パフォーマンスの最適化、コスト管理の複雑な状況に対応しています。NetAppには、これらの課題を克服するための強力なツールと機能が用意されており、優れた可視性、シームレスな統合、コスト効率、堅牢なセキュリティを提供します。これらの機能を使用することで、VMwareを引き続き使用し、マルチベンダーのアプローチを有効にして、将来のシステム停止に備えることができます。

VMware Cloud Foundation 5.2.1以降を活用すると、vSANに限定されることなく、最新のプライベートクラウドの手法を採用できます。これにより、ONTAPストレージへの投資を保護しながら、既存のvSphere環境からシームレスに移行できます。

さらに、マルチハイパーバイザー戦略を統合することで、組織は仮想化ロードマップの制御を維持し、コストを削減し、各ワークロードの固有のニーズに合わせてインフラストラクチャを調整できます。Hyper-V、OpenShift Virtualization、Proxmox、KVMには、それぞれ独自の利点があります。最適なソリューションを見極めるには、予算、既存のインフラ、パフォーマンス要件、サポートニーズなどの要素を評価します。選択したハイパーバイザープラットフォームがオンプレミスでもクラウドでも、ONTAPは最適なストレージです。
