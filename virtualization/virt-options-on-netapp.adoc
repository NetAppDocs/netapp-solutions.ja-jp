---
sidebar: sidebar 
permalink: virtualization/virt-options-on-netapp.html 
keywords: virtualization, overview, options, vmware, alternatives, hyperv, proxmox, openshift 
summary: このドキュメントでは、仮想化ソリューションに関係なく、NetAppが仮想化環境に最適なプラットフォームである理由の概要を説明します。 
---
= あらゆる仮想化ソリューションでのNetAppの使用
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ../media/


[role="lead"]
このドキュメントでは、仮想化ソリューションに関係なく、NetAppが仮想化環境に最適なプラットフォームである理由の概要を説明します。



== はじめに

VMwareの最近のライセンス変更を考えると、企業は、コスト効率と拡張性を維持するために、仮想化戦略を適応させる必要があります。既存のエンタープライズストレージを使用してスタンドアロンvSphereからVMware Cloud Foundation（VCF）に移行し、マルチハイパーバイザーまたはハイブリッドクラウドのアプローチを採用することを検討して、既存のVMware環境を最適化することが重要なステップです。特に、VCF 5.2.1では、vSAN以外の代替ストレージソリューションを使用できるようになることで柔軟性が向上しました。これにより、企業はエンタープライズストレージ機能を使用しながら新しいライセンスメカニズムを簡単に採用し、シームレスな方法で継続的に実行できます。

ONTAPは、オンプレミスのあらゆるハイパーバイザーやクラウドのあらゆるワークロードに適したプラットフォームです。ONTAPはオンプレミスの主要なハイパーバイザーをすべてサポートしており、各クラウドでVMwareのクラウドサービスとクラウドネイティブワークロードをサポートするファーストパーティ製品を提供しています。これにより、組織は適切な展開モデルをナビゲートすることで、ライセンスの変更を簡単に処理できます。

このホワイトペーパーでは、VMware環境を最適化するための戦略の概要、マルチハイパーバイザーの採用状況の評価、vSphereからVCFへのVMの移行、および使用可能なすべてのオプションを網羅した代替ハイパーバイザーへのVMの移行について詳しく説明します。



== 変更された点

BroadcomによるVMwareの買収は、VMwareのライセンスモデルに大きな変化をもたらしました。この新しいアプローチでは、サブスクリプションベースの価格体系への移行が進められており、業界のトレンドに沿った価格体系ではあるものの、コストが大幅に上昇することが予想されます。ここでは、主に次の2つの点に注意してください。

*サブスクリプションベースのライセンス*: VMwareは永久ライセンスからサブスクリプションベースのモデルに移行しています。

*ソケット単位からコア単位へ*: CPU単位からコア単位への価格変更は、コストを大幅に増加させる可能性のある大幅な変更を示しています。



=== 重要なポイント

Broadcomによるこの変更により、お客様はリソースニーズを評価し、使用率をより効果的に最適化し、この変更の結果として代替オプションを検討するようになりました。



== ONTAPを選ぶ理由

NetAppストレージソリューションは、お客様が仮想インフラのあらゆるメリットを最大限に活用できるよう支援するソリューションを提供する最前線のソリューションです。NetAppソリューションを使用すると、包括的なデータ管理ソフトウェアを迅速に導入して、自動化、効率化、データ保護、セキュリティの機能を提供しながら、厳しいパフォーマンスニーズに対応できます。ONTAPソフトウェアとVMware vSphereを組み合わせることで、ホストハードウェアとVMwareのライセンスコストを削減し、低コストでデータを確実に保護し、一貫した高パフォーマンスを実現できます。仮想化されたワークロードはモバイルです。

そのため、管理者はVMware Storage vMotionを使用して、VMware Virtual Machine File System（VMFS）、NFS、vVolの各データストア間でVMを移動します。このため、オールフラッシュシステムを使用している場合や、革新的なSANとともに最新のASAモデルを使用してコスト効率を高める場合は、さまざまなストレージアプローチを検討できます。

image:virt-options-image1.png["NetApp ONTAPのメリットの図"]

ONTAPストレージソリューションには、次のようなメリットがあります。

* *個別拡張*：コンピューティングリソースを追加せずにストレージを拡張ワークロードのデータ管理、保護、モビリティを、vSphereに統合されたストレージにオフロードします。
* *超高速パフォーマンス*：最先端のNVMeおよびASAアーキテクチャにより、1ミリ秒未満のレイテンシと高スループットを実現します。従来のVMや最新のKubernetes環境やAI環境向けに、フラッシュ、NVMe、GPUのパフォーマンスを最適化します。
* *包括的なデータサービス*:データセンターの効率性が85～90%向上し、ストレージ容量を5～30分の1に削減する組み込み機能を使用して、データの圧縮、重複排除、コンパクト化を実現します。
* *シームレスなクラスタリングと高可用性*: SnapMirrorアクティブ同期とMetroClusterを利用して、簡単なストレッチクラスタリングと堅牢なディザスタリカバリを実現します。
* *マルチプロトコル*：ONTAPは、複数のプロトコル（NFS、iSCSI、SMB、S3）を使用したデータアクセスをサポートします。ONTAPを実行するシステムは、いくつかの重要な方法で統合されています。当初、このアプローチは NAS プロトコルと SAN プロトコルの両方を指していましたが、 ONTAP は業界をリードする SAN プラットフォームであり続けており、 NAS における従来の強みもあります。
* *プロビジョニングとオーケストレーションの自動化*：VMwareおよびそのREST API、vSphereプラグイン、SPBM（ストレージポリシー）向けのONTAPツールを活用して、ストレージ管理を自動化および合理化します。
* *統合データプロテクションと低コストのディザスタリカバリ*：NetApp SnapCenterを使用して仮想ワークロードのバックアップとリストアをオフロードし、RPOゼロとRTOデータレプリケーションを実現します。オンプレミスからオンプレミスのNetApp ONTAP環境、またはVMware CloudとNetAppを基盤とするクラウドストレージに至るまで、VMwareワークロードのディザスタ保護を低コストで実現する、高価な代替インフラを購入して導入する必要はありません。
* *ランサムウェア検出*：組み込みの自律型ランサムウェア対策とゼロトラストの互換性により、VMwareレベルのセキュリティとコンプライアンスをデータに拡張し、多要素認証、ロールベースアクセス、包括的なロギング、ユーザ行動の異常検出を可能にすることで、保護、検出、修復、リカバリの機能を強化します。
* *統合ハイブリッドクラウド*：任意のハイパースケーラクラウド（VMC、EVS、AVS、GCVE）へのワークロードの移動、バックアップとリストア、ディザスタリカバリを簡易化、統合
* *ストレージライフサイクルプログラム（SLP）*：システムを停止することなく次世代コントローラにアップグレードするか、クラウドストレージを選択します（移行の準備が整っている場合）。




=== 重要なポイント

* ONTAPでは、最初の容量から始めて、その階層化機能を活用してデータをオブジェクトストレージにオフロードします。このアプローチでは、新しいホストを追加することなく、全体的なコストを大幅に削減できます。ストレージの使用量を最適化することで、通常は20~50%の大幅な削減を実現できます。
* ONTAPストレージは、特定のクラスタに限定されずに複数のワークロードドメインで使用できるため、全体的な利用率が向上します。
* ONTAPを使用すると、ストレージ効率化、暗号化、Snapshotなど、CPU負荷の高いタスクをオフロードして、ESXiホストへのCPUの影響を排除できます。この最適化により、各ホストに必要なコア数が減り、総所有コスト（TCO）が削減されます。
* RAIDやストレージプールを設定しなくても、継続的なデータ削減と暗号化が可能なシームレスなストレージを実現できます。




== サイズの適正化と最適化

ライセンスの変更が迫る中、すべての組織はTCO（総所有コスト）の増加に直面しています。適切に最適化されたVMware環境は、ライセンスコストを抑制しながらパフォーマンスを最大化します。これにより、効果的なリソース管理とキャパシティプランニングが保証されます。適切なツールセットを使用すれば、無駄なリソースやアイドル状態のリソースをすばやく特定してコアを再利用できるため、コア数を減らして全体的なライセンスコストを削減できます。

NetAppは、これらの課題を克服する強力なツールスイートを提供し、可視性の向上、シームレスな統合、コスト効率、堅牢なセキュリティを実現します。これらの機能を使用することで、企業はこの混乱の中でも生き残り、繁栄することができ、将来起こりうる他の予期しない課題に備えることができます。

*注*：ほとんどの組織は、クラウド評価の一環としてすでにこれを実施しています。オンプレミス環境でのコストパニックを回避し、即座に感情に対応した移行コストを代替ハイパーバイザーに削減するのに役立つのは、同じプロセスとツールです。



=== NetAppのメリット

* NetApp TCO試算ツール*- NetAppの無料TCO試算ツール

* シンプルなHTMLベースの計算ツール
* NetApp VMDC、RVtools、または手動入力方式を使用
* NetApp ONTAPストレージシステムを使用すると、特定の導入に必要なホスト数を簡単に予測し、削減効果を計算して導入を最適化できます。
* 可能な削減量を示します。



NOTE: TCO試算ツールは、NetAppの現場営業チームとパートナーのみが利用できます。NetAppアカウントチームと協力して、既存の環境を評価します。

*VMDC*- NetAppの無償VMware評価ツール

* 構成データとパフォーマンスデータをポイントインタイムで軽量に収集
* Webインターフェイスを使用したWindowsベースのシンプルな導入
* VMトポロジの関係を可視化し、Excelレポートをエクスポート
* 特にVMwareコアライセンスの最適化を対象としています。


*データインフラの分析情報*（旧称Cloud Insights）

次に、リアルタイムの指標を使用して、仮想マシン全体のワークロードIOプロファイルを詳細に分析します。

* ハイブリッド/マルチクラウド環境全体をSaaSベースで継続的に監視
* Pure、Dell、HPEストレージシステムなどの異機種混在環境をサポート
* MLを活用した高度な分析機能で孤立したVMや未使用のストレージ容量を特定- VMの再利用に関する詳細な分析と推奨事項を提供
* 移行前にVMのサイズを適正化し、移行中および移行後に重要なアプリケーションがSLAを満たすようにするためのワークロード分析機能を提供
* 60日間の無償トライアル期間で利用可能



NOTE: NetAppでは、NetApp®アーキテクチャおよび設計サービスの機能である仮想化最新化評価と呼ばれる評価を提供しています。各VMは、CPU利用率とメモリ利用率の2つの軸にマッピングされます。ワークショップでは、リソースの効果的な利用とコスト削減を促進するために、オンプレミスの最適化戦略とクラウド移行戦略の両方について、すべての詳細をお客様に提供します。これらの戦略を実装することで、コストを効果的に管理しながら、ハイパフォーマンスなVMware環境を維持できます。



=== 重要なポイント

VMDCは、DIIを実装する前の迅速な最初の評価ステップとして機能し、異種環境全体で継続的な監視と高度なML駆動型分析を行います。



== VCFインポートツール- NFSまたはFCをプリンシパルストレージとして使用してVCFを実行

VMware Cloud Foundation（VCF）5.2のリリースでは、既存のvSphereインフラをVCF管理ドメインに変換し、追加のクラスタをVCF VIワークロードドメインとしてインポートできるようになりました。このVMware Cloud Foundation（VCF）に加えて、vSANを使用することなく、NetAppストレージプラットフォーム上で完全に実行できるようになりました（vSANを使用しない場合はすべて可能です）。ONTAPで実行されている既存のNFSまたはFCデータストアを使用してクラスタを変換するには、既存のインフラを最新のプライベートクラウドに統合する必要があります。つまり、vSANは必要ありません。

このプロセスは、NFSストレージとFCストレージの柔軟性のメリットを活かして、シームレスなデータアクセスと管理を実現します。変換プロセスによってVCF管理ドメインが確立されたら、管理者は、NFSまたはFCデータストアを使用するvSphereクラスタを含む追加のvSphereクラスタをVCFエコシステムに効率的にインポートできます。この統合により、リソース利用率が向上するだけでなく、プライベートクラウドインフラの管理も簡易化され、既存のワークロードへの影響を最小限に抑えながらスムーズに移行できます。


NOTE: プリンシパルストレージとして使用する場合は、NFSバージョン3およびFCプロトコルのみがサポートされます。補完的ストレージでは、vSphereでサポートされているNFSプロトコルバージョン3または4.1のいずれかを使用できます。



=== 重要なポイント

既存のESXiクラスタをインポートまたは変換することで、既存のONTAPストレージをデータストアとして活用できます。vSANや追加のハードウェアリソースを導入する必要がないため、VCFのリソース効率が向上し、コストが最適化され、シンプルになります。



== ONTAPストレージを使用した既存のvSphereからVCFへの移行

VMware Cloud Foundationが新規インストール（新しいvSphereインフラとSingle Sign-Onドメインを作成）の場合、以前のバージョンのvSphereで実行されている既存のワークロードをCloud Foundationから管理することはできません。

最初のステップでは、既存のvSphere環境で実行されている現在のアプリケーションVMをCloud Foundationに移行します。移行パスは、移行の選択肢（ライブ、ウォーム、コールド）と、既存のvSphere環境のバージョンによって異なります。以下に、ソースストレージに応じた優先順位のオプションを示します。

* HCxは、Cloud Foundationワークロードモビリティで現在利用可能な最も機能豊富なツールです。
* NetApp BlueXP  DRaaSを活用
* SRMを使用したvSphereレプリケーションは、使いやすいvSphere移行ツールです。
* VAIOとVADPを使用したサードパーティ製ソフトウェアの使用




== NetApp以外のストレージからONTAPストレージへのVMの移行

ほとんどの場合、最も簡単な方法はStorage vMotionを使用することです。クラスタは、新しいONTAP SANまたはNASデータストアと、VMの移行元のストレージ（SAN、NASなど）の両方にアクセスできる必要があります。プロセスは簡単です。

* vSphere Web ClientでVMを1つ以上選択し、
* 選択項目を右クリックし、
* [Migrate]をクリックします。
* [storage-only]オプションを選択します。
* デスティネーションとして新しいONTAPデータストアを選択し、
* 移行ウィザードの最後の手順を実行します。


vSphereはNVRAM、ファイル（VMDK、VMDKなど）を古いストレージからONTAPベースのデータストアにコピーします。vSphereは大量のデータをコピーする可能性があることに注意してください。この方法ではダウンタイムは必要ありません。移行中もVMは引き続き実行されます。

その他のオプションには、ホストベースの移行、移行を実行するためのサードパーティのレプリケーションなどがあります。



== ストレージSnapshotを使用したディザスタリカバリ（ストレージレプリケーションでさらに最適化）

NetAppは、コストを大幅に削減し、複雑さを軽減する、業界をリードするSaaSベースのディザスタリカバリ（DRaaS）ソリューションを提供します。高価な代替インフラを購入して導入する必要はありません。

本番用サイトからディザスタリカバリサイトへのブロックレベルのレプリケーションを通じてディザスタリカバリを実装することは、サイトの停止やランサムウェア攻撃などのデータ破損イベントからワークロードを保護するための、耐障害性と対費用効果に優れた方法です。NetApp SnapMirrorレプリケーションを使用すると、NFSまたはVMFSデータストアを使用するオンプレミスのONTAPシステムで実行されているVMwareワークロードを、VMwareも導入されている指定のリカバリデータセンターにある別のONTAPストレージシステムにレプリケートできます。

NetApp BlueXP  コンソールに統合されたBlueXP  ディザスタリカバリサービスを使用します。このサービスでは、オンプレミスのVMware vCenterとONTAPストレージの検出、リソースグループの作成、ディザスタリカバリ計画の作成、リソースグループへの関連付け、フェイルオーバーとフェイルバックのテストまたは実行を行うことができます。SnapMirrorは、ストレージレベルのブロックレプリケーションを提供し、増分変更によって2つのサイトを最新の状態に保ちます。その結果、RPOは最大5分になります。

また、本番環境やレプリケートされたデータストアに影響を与えたり、追加のストレージコストをかけたりすることなく、DR手順を定期的にシミュレートすることもできます。BlueXP  ディザスタリカバリでは、ONTAPのFlexCloneテクノロジを利用して、DRサイトに最後にレプリケートされたSnapshotからVMFSデータストアのスペース効率に優れたコピーを作成します。DRテストが完了したら、お客様はテスト環境を削除するだけで、レプリケートされた実際の本番リソースに影響を与えることはありません。

数回クリックするだけで、実際のフェイルオーバーが（計画的または計画外で）必要になった場合は、BlueXP  ディザスタリカバリサービスによって、指定されたディザスタリカバリサイトで保護対象の仮想マシンを自動的に起動するために必要なすべての手順がオーケストレーションされます。また、SnapMirror関係をプライマリサイトに反転し、必要に応じてフェイルバック処理のために変更をセカンダリからプライマリにレプリケートします。これらはすべて、他の有名な代替案と比較してわずかなコストで達成できます。


NOTE: その他の主要な代替オプションとして、レプリケーション機能とSRMとSRAをサポートするサードパーティのバックアップ製品があります。



== ランサムウェア

ランサムウェアの拡散を防ぎ、コストのかかるダウンタイムを回避するには、ランサムウェアをできるだけ早く検出することが重要です。効果的なランサムウェア検出戦略には、ESXiホストレベルとゲストVMレベルで複数の保護レイヤを組み込む必要があります。ランサムウェア攻撃に対する包括的な防御を構築するために複数のセキュリティ対策が実装されていますが、ONTAPを使用すると、防御アプローチ全体に保護レイヤを追加できます。いくつかの機能には、まずSnapshot、自律型ランサムウェア対策、改ざん防止Snapshotなどがあります。

前述の機能がVMwareとどのように連携してランサムウェアからデータを保護、リカバリするかを見てみましょう。vSphere VMとゲストVMを攻撃から保護するには、エンドポイントのセグメント化、EDR/XDR/SIEMの利用、セキュリティ更新プログラムのインストール、適切なセキュリティ強化ガイドラインの遵守など、いくつかの対策を講じることが重要です。データストア上の各仮想マシンは、標準のオペレーティングシステムもホストします。エンタープライズサーバのマルウェア対策製品スイートがインストールされ、定期的に更新されていることを確認します。これは、多層的なランサムウェア対策戦略に不可欠なコンポーネントです。これに加えて、データストアに電力を供給するNFSボリュームでAutonomous Ransomware Protection（ARP）を有効にします。ARPは、ボリュームワークロードのアクティビティとデータエントロピーを確認する組み込みのMLを活用して、ランサムウェアを自動的に検出します。ARPは、ONTAPの組み込みの管理インターフェイスまたはSystem Managerを使用して設定でき、ボリューム単位で有効になります。

複数階層型アプローチを追加する一環として、バックアップSnapshotコピーの不正削除を保護するための標準の組み込みONTAPソリューションも用意されています。これは、ONTAP 9.11.1以降で使用できるマルチ管理者検証（MAV）と呼ばれます。理想的なアプローチは、MAV固有の操作にクエリを使用することです。


NOTE: 新しいNetApp ARP/AIでは、ラーニングモードは必要ありません。AIを活用したランサムウェア検出機能で、すぐにアクティブモードに切り替えることができます。


NOTE: ONTAP Oneでは、これらの機能セットはすべて無料です。NetAppの堅牢なデータ保護、セキュリティ、ONTAPが提供するすべての機能を、ライセンスの障壁を気にすることなく利用できます。



== 検討すべきVMwareの代替案

すべての組織がマルチハイパーバイザーアプローチを評価しています。このアプローチは、デュアルベンダーまたはトリプルベンダーのハイパーバイザー戦略をサポートし、運用の柔軟性を強化し、ベンダーへの依存を軽減し、ワークロードの配置を最適化します。さらに、相互運用性、対費用効果の高いライセンス、自動化を活用して、マルチハイパーバイザー管理を合理化できます。ONTAPは、あらゆるハイパーバイザープラットフォームに最適なプラットフォームです。このアプローチのもう1つの重要な要件は、SLAとワークロード配置戦略に基づく動的な仮想マシンモビリティです。



=== マルチハイパーバイザー採用に関する主な考慮事項

* *戦略的なコスト最適化*：単一ベンダーへの依存を減らすことで、運用コストとライセンスコストを最適化できます。
* *ワークロードの分散*：適切なワークロードに適切なハイパーバイザーを導入することで、効率を最大限に高めることができます。
* *柔軟性*：ビジネスアプリケーションの要件に基づいてVMを最適化し、データセンターの最新化と統合をサポートします。


このセクションでは、組織が優先順位に従って検討しているさまざまなハイパーバイザーについて簡単に説明します。


NOTE: これらは、組織で検討されている一般的な代替オプションですが、優先順位は、評価、スキルセット、ワークロードの要件に基づいて顧客ごとに異なります。

image:virt-options-image2.png["代替仮想化オプションの図"]



=== Hyper-V（Windows Server）

* 利点 *

* Windows Serverバージョンのよく知られた組み込み機能。
* Windows Server内の仮想マシンの仮想化機能を有効にします。
* System Centerスイート（SCVMMおよびSCOMを含む）の機能と統合すると、Hyper-Vは他の仮想化ソリューションに匹敵する包括的な機能セットを提供します。


*統合*

* NetApp SMI-Sプロバイダは、SANとNASの両方の動的ストレージ管理をSystem Center Virtual Machine Manager（SCVMM）と統合します。
* 多くのサードパーティ製バックアップパートナーは、ONTAPスナップショットとSnapMirrorサポートの統合もサポートしており、アレイネイティブのバックアップとリカバリを完全に最適化できます。
* ONTAPは、柔軟性とストレージ消費を実現するためにSANとNAS間のネイティブコピーオフロードを可能にする唯一のデータインフラシステムです。また、ONTAPは、NAS（SMB3 TRIM over SMB/CIFS）プロトコルとSAN（iSCSIおよびFCP with SCSI UNMAP）プロトコルの両方でネイティブのスペース再生も提供します。
* SnapManager for Hyper-Vによるきめ細かなバックアップとリカバリ（PVRのサポートが必要）


*移行の理由*

Windows Server上のHyper-Vは、次のような場合に適しています。

* 最近新しいハードウェアを購入したか、現在は減価償却できないオンプレミスインフラに多額の投資を行った。
* ストレージにSANまたはNASを使用（Azure Stack HCIは選択不可）
* ストレージとコンピューティングを個別に拡張する必要がある
* ハードウェアへの投資、政治情勢、コンプライアンス、アプリケーション開発などの現在の阻害要因が原因で最新化できない




=== OpenShift仮想化（RedHat KubeVirt実装）

* 利点 *

* コンテナで実行されるKVMハイパーバイザーを使用し、ポッドとして管理
* Kubernetesでスケジュール設定、導入、管理
* OpenShift Webインターフェイスを使用した、仮想マシンとそのリソースの作成、変更、削除
* コンテナオーケストレーションツールのリソースやサービスと統合し、永続的ストレージのパラダイムを実現


*統合*

* Trident CSIを使用すると、NFS、FC、iSCSI、NVMe/TCP経由で、VM単位のストレージとストレージクラスに固有の方法でストレージを動的に管理できます。
* プロビジョニング、スナップショット作成、ボリューム拡張、クローン作成のためのTrident CSI。
* Trident protectは、OpenShift仮想化VMのcrash-consistentバックアップとリストアをサポートし、S3互換の任意のオブジェクトストレージバケットに格納します。
* Trident保護は、OpenShift仮想化VMのストレージレプリケーションと自動フェイルオーバー/フェイルバックにより、ディザスタリカバリも提供します。


*移行の理由*

OpenShiftによる仮想化は、次のような場合に有効です。

* 仮想マシンとコンテナを単一プラットフォームに統合
* OpenShiftの仮想化はすでにコンテナワークロード用にライセンスが供与されている可能性があるOpenShiftの一部であるため、ライセンスのオーバーヘッドを削減できます。
* 導入直後から完全なリファクタリングを行うことなく、レガシーVMをクラウドネイティブのエコシステムに移行できます。




=== Proxmox仮想環境（Proxmox VE）

* 利点 *

* Qemu KVMおよびLXC向けの包括的なオープンソース仮想化プラットフォーム
* LinuxディストリビューションDebianに基づく
* スタンドアロンマシンとしても、複数のマシンで構成されるクラスタ内でも操作できます。
* 仮想マシンやコンテナのシンプルで効率的な導入
* 使いやすいWebベースの管理インターフェイスと、ライブマイグレーションやバックアップオプションなどの機能を備えています。


*統合*

* iSCSI、NFS v3、v4.1、v4.2を使用
* 高速クローニング、Snapshot、レプリケーションなど、ONTAPが提供する優れた機能がすべて含まれています。
* nconnectオプションを使用すると、高いNFSワークロードに対して、サーバあたりのTCP接続数を最大16まで増やすことができます。


*移行の理由*

Proxmoxは次のような場合に有効です。

* オープンソースでライセンスコストを削減
* 使いやすいWebインターフェイスで管理を合理化
* 仮想マシンとコンテナの両方をサポートし、柔軟性を提供します。
* VM、コンテナ、ストレージ、ネットワークを単一のインターフェイスで管理
* 制限のない機能へのフルアクセス
* credativによるプロフェッショナルサービスとサポート




=== VMware Cloudサービス（Azure VMware Solution、Google Cloud VMware Engine、VMware Cloud on AWS、Elastic VMware Service）

* 利点 *

* VMware in Cloudは、それぞれのハイパースケーラデータセンターでホストされる「プライベートクラウド」を提供し、専用のベアメタルインフラを使用してVMwareインフラをホストします。
* vCenter、vSphere、vSAN、NSXなどのVMware機能を使用して、クラスタあたり最大16台のホストをサポート
* 迅速な導入とスケールアップ/スケールダウン
* 柔軟な購入オプション：時間単位のオンデマンド、1年または3年のリザーブドインスタンス。一部のハイパースケーラでは5年のオプションを選択可能
* オンプレミスのVMwareからクラウドのVMwareに移行するための、使い慣れたツールとプロセスを提供します。


*統合*

* 各クラウドのNetApp搭載ストレージ（Azure NetApp Files、FSx for ONTAP、Google Cloud NetAppボリューム）は、コンピューティングノードを拡張する代わりにvSANストレージを補完します。
* 一貫したパフォーマンス、従量課金制のファイルストレージサービス
* インテリジェントなデータサービス
* 効率的なSnapshotとクローンにより、大規模なコピーやチェックポイント変更を迅速に作成
* ブロック転送ベースの効率的な差分レプリケーションで、地域ごとのDRとバックアップを実現
* NetAppを基盤とするクラウドストレージをデータストアとして使用すると、大量のストレージを必要とするアプリケーションの実行コストが削減される


*移行の理由*

* ストレージ負荷の高い環境では、コンピューティングノードを追加する代わりにストレージ容量をオフロードすることでコストを削減
* Hyper-VやAzure Stack、さらにはネイティブのVM形式への移行に必要となる可能性よりも少ないスキルアップが必要
* 最大3年または5年の間、他のライセンスコストの変更の影響を受けない価格設定がロックされます（クラウドプロバイダによって異なります）。
* BYOL（お客様所有のライセンスを使用）に対応
* オンプレミスからの移行と切り替えにより、主な領域でコストを削減できる可能性がある。
* ディザスタリカバリ機能をクラウドに構築または移行してコストを削減し、運用の負担を軽減


任意のハイパースケーラでVMware Cloudをディザスタリカバリのターゲットとして使用したいお客様は、ONTAPストレージを基盤とするデータストア（Azure NetApp Files、Amazon FSx for NetApp ONTAP、Google Cloud NetApp Volumes）を使用して、VMレプリケーション機能を提供する検証済みのサードパーティソリューションを使用して、オンプレミスからデータをレプリケートできます。ONTAPストレージを基盤とするデータストアを追加することで、より少ない数のESXiホストで、デスティネーションでのディザスタリカバリのコストを最適化できます。また、オンプレミス環境のセカンダリサイトの運用を停止できるため、コストを大幅に削減できます。

* の詳細なガイダンスを表示しますlink:https://docs.netapp.com/us-en/netapp-solutions/ehc/veeam-fsxn-dr-to-vmc.html["FSx ONTAPデータストアへのディザスタリカバリ"]。
* の詳細なガイダンスを表示しますlink:https://docs.netapp.com/us-en/netapp-solutions/ehc/azure-native-dr-jetstream.html["Azure NetApp Filesデータストアへのディザスタリカバリ"]。
* の詳細なガイダンスを表示しますlink:https://docs.netapp.com/us-en/netapp-solutions/ehc/gcp-app-dr-sc-cvs-veeam.html["Google Cloud NetApp Volumeデータストアに対するディザスタリカバリ"]。




=== クラウドネイティブの仮想マシン


NOTE: NetAppは、クラウドでVMwareと統合されたファーストパーティ（1P）ストレージサービスを提供している唯一のベンダーで、3大ハイパースケーラすべてに対応しています。

* 利点 *

* 柔軟な仮想マシンサイズでコンピューティングリソースを最適化し、特定のビジネスニーズを満たし、不要なコストを排除します。
* クラウドの柔軟性でパフォーマンスの監視、構成管理、継続的なアプリケーション開発を実現し、将来へのスムーズな移行を実現します。


* NetAppベースのストレージを使用してクラウドネイティブの仮想マシンに移行する理由*

* シンプロビジョニング、Storage Efficiency、ゼロフットプリントのクローン、統合バックアップ、ブロックレベルのレプリケーション、階層化などのエンタープライズストレージ機能を活用して移行作業を最適化し、導入直後から将来を見据えた導入を実現
* ONTAPを組み込み、クラウド内のネイティブクラウドインスタンスで使用されている現在のストレージ環境を最適化することで、クラウド内のネイティブクラウドインスタンスで使用されているストレージ環境を最適化
* コスト削減能力
+
** ONTAPデータ管理手法の使用
** 多数のリソースを予約することで
** バースト可能な仮想マシンとスポット仮想マシンを使用


* AIやMLなどの最新テクノロジを活用
* IOPSとスループットに必要なパラメータを満たすようにクラウドインスタンスのサイズを適正化することで、ブロックストレージソリューションに比べてインスタンスの総所有コスト（TCO）を削減できます。




=== AzureローカルまたはAWSアウトポスト

* 利点 *

* 検証済みのソリューションで実行
* パッケージ化されたクラウドソリューション。オンプレミスに導入して、ハイブリッドクラウドやマルチクラウドのコアとして機能します。
* オンプレミス、クラウド、ハイブリッドなど、あらゆる環境に合わせてカスタマイズされたAWSまたはAzureのインフラ、サービス、API、ツールへのアクセスをユーザに提供します。



NOTE: HCI互換ハードウェアを所有しているか、リース/購入している必要があります。


NOTE: Azure localは外部ストレージをサポートしていませんが、AWS OutpostはONTAPをサポートしています。

* Azure LocalまたはAWS Outpostに移行する理由*

* HCIと互換性のあるハードウェアをすでに所有している場合
* ワークロードの実行とデータストレージを管理
* ローカルのデータ常駐サービスを実現
* それぞれのサービス、ツール、APIを使用してローカルリージョンのデータを処理


*短所*

* SAN、NAS、スタンドアロンのストレージ構成をサポートしていないオプションもあります。
* ストレージとコンピューティングの個別拡張はサポートされない




=== 代替案のまとめ

要約すると、VMwareは組織の事実上のハイパーバイザーであり続けています。しかし、すべての組織が代替オプションを評価しており、ONTAPは選択したどのオプションでも役割を果たします。

[cols="70%, 30%"]
|===
| * ユースケース * | *推奨ハイパーバイザー* 


| エンタープライズ規模の仮想化 | VMware vSphere 


| Windowsヘビー環境 | Microsoft Hyper-V 


| Linux負荷の高い環境とクラウドネイティブワークロード | KVM 


| SMB、ホームラボ、ハイブリッド環境 | Proxmox VE 


| KubernetesベースのVMワークロード | OpenShift 仮想化 
|===
お客様の環境でも使用されていると考えられるその他のハイパーバイザーオプションは次のとおりです。

*KVM*は通常、親LinuxディストリビューションのONTAPでサポートされています。参照Linuxについては、IMTを参照してください。

* SUSE Harvester *は、Linux、KVM、Kubernetes、KubeVirt、Longhornなどのエンタープライズクラスのオープンソーステクノロジーを使用してベアメタルサーバー向けに構築された最新のハイパーコンバージドインフラストラクチャ（HCI）ソリューションです。Harvesterは、データセンターとエッジでクラウドネイティブおよび仮想マシン（VM）ワークロードを実行するための柔軟で手頃な価格のソリューションを求めているユーザ向けに設計されており、仮想化とクラウドネイティブのワークロード管理を単一のコンソールで実行できます。NetApp Trident CSIドライバをHarvesterクラスタに組み込むことで、NetAppストレージシステムは、Harvesterで実行されている仮想マシンで使用可能なストレージボリュームを格納できます。

* Red Hat OpenStack PlatformとOpenStack *は、一般的に信じられないほどのプライベートクラウドソリューションであり、NetAppユニファイドドライバーがアップストリームのOpenStackコードに組み込まれているため、NetAppデータ管理の統合が組み込まれています。つまり、インストールする必要はありません。ストレージ管理機能は、ブロックプロトコルではNVMe、iSCSIまたはFC、NASではNFSをサポートします。シンプロビジョニング、動的なストレージ管理、コピーオフロード、Snapshotがすべて標準でサポートされます。



=== 重要なポイント

ONTAPは、オンプレミスのあらゆるハイパーバイザーやクラウドのあらゆるワークロードに適したプラットフォームです。ONTAPはオンプレミスで卓越したハイパーバイザーをサポートしており、各クラウドにファーストパーティ製品を幅広く採用しています。これにより、適切な導入モデルをナビゲートすることで、ライセンスの変更を簡単に処理できます。



== 非常に高速な移行



=== Shiftツールキット

前述のように、VMware、Microsoft Hyper-V、Proxmox、OpenShift Virtual Environmentなどのソリューションは、仮想化ニーズに対応する堅牢で信頼性の高い選択肢となっています。ビジネス要件が動的であることを考慮すると、仮想化プラットフォームの選択にも適応性があり、仮想マシンの瞬時のモビリティが重要になります。

ハイパーバイザー間の移行には、企業の意思決定プロセスが複雑になります。主な考慮事項には、アプリケーションの依存関係、移行のタイムライン、ワークロードの重要度、アプリケーションのダウンタイムがビジネスに与える影響などがあります。ただし、にONTAPストレージとShiftツールキットを使用すれば、簡単に移行できます。

NetApp Shiftツールキットは、さまざまなハイパーバイザー間で仮想マシン（VM）を移行したり、仮想ディスク形式を変換したりできる、使いやすいグラフィカルユーザインターフェイス（GUI）ソリューションです。NetApp FlexClone®テクノロジを利用して、VMのハードディスクを迅速に変換します。さらに、このツールキットは、デスティネーションVMの作成と構成を管理します。

詳細については、を参照してくださいlink:https://docs.netapp.com/us-en/netapp-solutions/vm-migrate/shift-toolkit-overview.html["仮想環境間での仮想マシン（VM）の移行（Shift Toolkit）"]。

image:virt-options-image3.png["Shift Toolkitの機能の図"]

注：Shiftツールキットの前提条件は、ONTAPストレージ上にあるNFSボリュームでVMを実行することです。つまり、VMがブロックベースのONTAPストレージ（特にASA）またはサードパーティのストレージでホストされている場合は、Storage VMotionを使用して、指定したONTAPベースのNFSデータストアにVMを移動する必要があります。

Shiftツールキットはダウンロードできlink:https://mysupport.netapp.com/site/tools/tool-eula/netapp-shift-toolkit["ここをクリック"]、Windowsシステムでのみ使用できます。



=== Cirrus Data MigrateOps

Shiftツールキットの代替として、ブロックレベルのレプリケーションに依存するパートナーベースのソリューションがあります。Cirrus Dataは、従来のハイパーバイザーから最新のプラットフォームにワークロードをシームレスに移行し、より柔軟なハイブリッドワークロード、最新化の取り組みの加速、リソース利用率の向上を実現します。Cirrus Migrate CloudとMigrateOps™を組み合わせることで、安全で使いやすく信頼性の高いソリューションを使用して、ハイパーバイザー間の変更を自動化できます。



=== 重要なポイント

VMwareから別のハイパーバイザーにVMを移行する方法は複数あります。Veeam、Commvault、Starwind、SCVMMなどがあります。ここでの目的は検証済みの最適なオプションを紹介することですが、Shiftツールキットを使用すれば最速の移行オプションを実現できます。シナリオに応じて、代替の移行オプションを採用できます。



== 導入モデルの例：

WindowsとLinuxのワークロードが混在する10、000台のVMを所有している。ライセンスコストを最適化し、仮想化インフラの将来を簡易化するためには、マルチハイパーバイザーとVM配置戦略が重要でした。ワークロードの重要度、パフォーマンス要件、ハイパーバイザー機能、ライセンスコストに基づいてVM戦略を選択しました。

階層0のVMはVMware（1000台のVM）上に保持され、階層1 /階層2はHyper-V（5000台のVM）に移動されました。残りの4、000台のVMはOpenShift仮想化（主にLinuxベースのVM）に移行されました。このハイブリッドVM配置により、制御、プロセス、ツール、機能を維持しながらコストを抑制できました。

上記は一例ですが、アプリケーションレベルごとに異なる組み合わせや組み合わせを適用して環境を最適化することができます。



== まとめ

Broadcomの買収を受けて、VMwareのお客様は統合、パフォーマンスの最適化、コスト管理の複雑な状況に対応しています。NetAppは、これらの課題を克服する強力なツールと機能のスイートを提供し、優れた可視性、シームレスな統合、コスト効率、堅牢なセキュリティを実現します。これらの機能を使用することで、VMwareと連携して最適化を行い、Broadcomの混乱の中でも生き残り、さらに繁栄することができます。また、将来起こりうるその他の予期しない課題にも備えることができます。

代替ハイパーバイザプラットフォームへの移行が望ましい場合は、VMwareに代わる堅牢なソリューションがいくつかあり、仮想化のニーズに対応できます。Hyper-V、Proxmox、KVMにはそれぞれ独自の利点があります。最適なソリューションを見極めるには、予算、既存のインフラ、パフォーマンス要件、サポートニーズなどの要素を評価します。どのハイパーバイザープラットフォームを選択しても、ONTAPは理想的なストレージです。
