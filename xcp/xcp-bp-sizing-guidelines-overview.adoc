---
sidebar: sidebar 
permalink: xcp/xcp-bp-sizing-guidelines-overview.html 
keywords: test, time estimate, copy, sync, rename, append, delete 
summary: このセクションでは、 NFS 用にファイルサイズ 100 万個のファイルを使用して XCP コピー処理と XCP 同期処理を実行するおおよその時間を記載します。 
---
= サイジングガイドライン
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ./../media/


[role="lead"]
このセクションでは、 NFS 用にファイルサイズ 100 万個のファイルを使用して XCP コピー処理と XCP 同期処理を実行するおおよその時間を記載します。



== テストに基づく推定所要時間

XCP コピーと同期のテストでは、導入時に使用したのと同じテストベッドを使用しました。8K 、 16K 、 1MB の 3 セットのファイルを 100 万個作成し、変更をリアルタイムで実行しました。XCP sync 関数は、ソースからターゲットへの差分増分更新をファイルレベルで実行します。増分更新操作には、既存のファイルとフォルダの名前変更、既存のファイルへのデータの追加、ファイルとフォルダの削除、ハードリンク、ソフトリンク、マルチリンクの追加の 4 つの操作があります。テスト目的では、名前変更、追加、削除、およびリンク操作に注目しました。つまり、 100 万ファイルに対して、名前変更、追加、削除などの変更処理が 10% から 90% の変更率で実行されたことになります。

次の図に、 XCP コピー処理の結果を示します。

image:xcp-bp_image10.png[""]

次の図に、 XCP Sync の名前変更処理とリンク処理の結果を示します。

image:xcp-bp_image8.png[""]

ファイルのサイズは ' 名前を変更したソースファイルを転送するための XCP 同期完了時間とは一致しませんグラフは線形です

リンクタイプは、ソフトリンク、ハードリンク、およびマルチリンクです。ソフトリンクは通常のファイルと見なされます。ファイルのサイズは、 XCP 同期処理を完了する時点とは関係ありません。

次の図は、 XCP の同期アペンドおよび削除処理の結果を示しています。

image:xcp-bp_image9.png[""]

追加処理と削除処理では、小さなファイルサイズに比べて大きなファイルサイズの方が時間がかかります。処理の完了時間は、追加および削除の変更率と線形で表示されます。



== XCP 1.6.1 と XCP 1.5 を比較しています

以前のバージョンと比較して、 XCP 1.6.3 および 1.7 でパフォーマンスが向上しています。次のセクションでは、 XCP 1.6.3 と 1.7 の間での 8K 、 16K 、 1MB の各ファイルの同期パフォーマンスの比較を示します。

次の図は、 XCP 1.6.3 での XCP 同期パフォーマンスと 1.7 （ 8K サイズが 100 万ファイルの場合）の結果を示しています。

image:xcp-bp_image11.png[""]

次の図は、 XCP 1.6.1 での XCP 同期パフォーマンスの結果と 1.5 の結果を示しています（ファイル数は 16K となります）。

image:xcp-bp_image12.png[""]

次の図は、 XCP 1.6.1 での XCP 同期パフォーマンスの結果を示しています。 1MB のファイルサイズが 100 万ファイルの 1.5 です。

image:xcp-bp_image13.png[""]

XCP 1.7 のパフォーマンスは、平均して XCP 1.6.3 と同様で、「 XCP sync 」差分アップデートでは名前変更、追加、リンク、削除の各操作を 100 万ファイルの 1MB サイズで実行できます。

このパフォーマンス検証に基づいて、オンプレミスとクラウドでのデータ移行には XCP 1.7 を使用することを推奨します。
