---
sidebar: sidebar 
permalink: xcp/xcp-bp-netapp-xcp-overview.html 
keywords: multithread, nas, analytics, directory tree, deletion, delete, prerequisites 
summary: NetApp XCP は、複数のスレッドとカスタマイズ可能な機能を使用してデータを転送します。データの移動や移行、ファイルシステム分析、ディレクトリツリーの高速削除という 3 つの主なユースケースに対応しています。 
---
= NetApp XCP
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ../media/


[role="lead"]
NetApp XCP は、複数のスレッドとカスタマイズ可能な機能を使用してデータを転送します。データの移動や移行、ファイルシステム分析、ディレクトリツリーの高速削除という 3 つの主なユースケースに対応しています。



== データの移動または移行

NetApp XCP は、任意の NAS から NetApp NAS にデータを転送します。このプロセスは、スキャン、コピー、同期、検証の 4 つの主要な処理で構成されます。データの監視と転送に役立つ追加の機能がいくつかあります。

* *スキャン。*NASおよびMapR / HDFSデータのハイレベルなレイアウトを提供します。
* *コピー*ベースラインデータ転送を実行します。
* *同期*差分データ転送を実行します。
* *検証*ターゲットの完全な検証を実行します。
* *表示（オプション）。*NAS共有を検出します。


次の図は、 XCP データの移行とレプリケーションの処理を示しています。

image:xcp-bp_image1.png["入力/出力ダイアログを示す図、または書き込まれた内容を表す図"]



== ファイルシステム分析

NetApp XCP を使用すると、構造化されていないデータを標準で識別、精査、分析し、分析情報を向上させることができます。分析情報は、計画を改善し、価値の高いデジタル資産の運用を開始し、レポートと評価を通じてデータガバナンスを実現するために、企業のお客様に欠かせない重要な要件です。

機密データを扱うお客様は、 NetApp XCP を使用して、次のような回答の一般的な運用上の質問にお答えください。

* データはどこにありますか？
* データの量とファイルの種類
* どのようなデータがアクティブに使用され、休止状態になっているか？


次の図は、 GUI からの NetApp XCP ファイル分析通信を示しています。

image:xcp-bp_image2.png["入力/出力ダイアログを示す図、または書き込まれた内容を表す図"]



== 削除

ストレージ・チームや Electronic Design Automation （ EDA ）のワークロードでは、古いデータであっても、ストレージ・スペースを回復するためにクリーニングが必要なテスト・データであっても、大きなディレクトリをクリーンアップするのは非常に困難です。XCP は、ディレクトリツリー全体を削除できる高速削除機能を提供します。NetApp XCP Delete 機能は、特定の NAS パスからファイルとフォルダを削除します。一致フィルタを使用すると、特定のファイルおよびフォルダセットを削除できます。多数のファイルやフォルダに対しては、削除の確認を必要としない強制オプションを使用できます。



== ライブソース移行のサポート

XCP 1.7 に含まれるライブソース移行のサポートにより、使用中のデータソースからの移行（読み取りおよび書き込みアクティビティ）が可能になります。移行ジョブで使用されているファイル（ copy や sync running など）は XCP によって除外され、スキップされたファイルの情報は XCP ログにキャプチャされます。

この機能では、ソースの変更はサポートされますが、デスティネーションに対する変更はサポートされません。移行中は、移行先をアクティブにしないでください。ライブソースマイグレーションは、 NFS マイグレーションでのみサポートされます。


NOTE: ライブソース移行では、特別な設定は必要ありません。



== XCP の前提条件

NetApp XCP を導入する前に、次の前提条件を満たしている必要があります。

. 次のコマンドを実行して、 NFS サーバで使用されている NFS ポートを確認します。
+
....
rpcinfo -p < NAS IP or on-prem nfs data LIF ip >
....
. オンプレミスインスタンスまたはクラウドインスタンス（ Azure 、 AWS 、 Google Virtual Machine [VM] インスタンスなど）の XCP 処理を実行する場所にアクセスするには、 NFS ポートのファイアウォールポートを開きます。
. telnetコマンドを使用して、XCPサーバからNFSポートにアクセスできることを確認します `<on-prem nfs data LIF ip or NAS IP > 2049`。デフォルトのポートは2049です。環境内のポートが異なる場合は、その IP を使用します。
. NFSの場合、コマンドを使用して、XCPサーバから共有にアクセスできることを確認します `showmount -e < NAS IP >`。
. デスティネーションボリュームの inode の数を、ソースファイルのファイル数（ファイル数）よりも多くします。
. からXCPライセンスをダウンロードし https://xcp.netapp.com/license/xcp.xwic["NetApp XCP ライセンスポータル"^]ます。  
+
.. mysupport.netapp.com にネットアップアカウントがあるか、または無償で登録できます。
.. ライセンスをダウンロードしてご用意ください。


. Azure NetApp ボリュームごと、またはクラウドの Cloud Volume Service （プレミアムサービスレベル）用に、 XCP カタログ用にオンプレミスで NFS 共有を 1 つ作成します。
. NAS ボリュームを作成し、データデスティネーションの共有を設定します。
. 複数の XCP インスタンスがある場合、複数のソースフォルダまたはファイルからデスティネーションにデータを転送するには、サーバまたはクラウドインスタンスが 1 つ以上必要です。
. maxdir サイズ（デフォルトは 308MB ）では、最大ファイル数（約 100 万）が 1 つのフォルダに定義されます。maxdir サイズ値を大きくして、ファイル数を増やします。値を増やすと、 CPU サイクルが増える。
. クラウドでは、オンプレミスとクラウド間で ExpressRoute （ Azure ）、 Direct Connect （ AWS ）、または Cloud Interconnect （ GCP ）を使用することを推奨します。

