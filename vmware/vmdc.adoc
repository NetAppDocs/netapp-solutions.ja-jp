---
sidebar: sidebar 
permalink: vmware/vmdc.html 
keywords: vmware, vm, data, collector, vmdc 
summary: Virtual machine Data Collector（VMDC）は、VMware環境向けの無料の軽量でシンプルなGUIベースのツールキットです。このツールキットを使用すると、仮想マシン（VM）、ホスト、ストレージ、およびネットワークに関する詳細なインベントリ情報を収集できます。 
---
= 仮想マシンデータコレクタ（VMDC）
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ../media/


[role="lead"]
Virtual Machine Data Collector（VMDC）は、VMware環境向けの無償の軽量でシンプルなGUIベースのツールキットです。このツールキットを使用すると、仮想マシン（VM）、ホスト、ストレージ、およびネットワークに関する詳細なインベントリ情報を収集できます。


NOTE: *これはVMDCのプレビュー版です。*



== 概要

VMDCの主な機能は、クラスタ構成、ネットワーク、ストレージ、およびパフォーマンスデータなど、vSphere環境にあるvCenter、ESXiサーバ、および仮想マシン（VM）の構成に関するレポートを作成することです。包括的な環境データが収集されると、インフラに関する洞察に富んだ情報を生成するために利用できます。レポート出力表示は、スプレッドシート形式のGUIで、さまざまなセクションに複数のタブが表示されます。読みやすいレポートを提供し、リソース使用率の最適化や容量の計画に役立ちます。

VMDCは、VMwareコアライセンスとvCPUおよびRAMの最適化の可能性を予測するための統計を迅速かつ瞬時に収集するための足がかりにすぎません。link:https://docs.netapp.com/us-en/data-infrastructure-insights/["NetAppデータインフラに関する分析情報"]そのためには、VMの詳細なトポロジを把握し、ワークロードのサイズを適正化し、将来のニーズにも対応できるようにアノテーションを使用してVMをグループ化するための次のステップとして、AUSとデータコレクタのインストールが必要になります。

VMDCはダウンロード可能link:https://mysupport.netapp.com/site/tools/tool-eula/vm-data-collector["ここをクリック"]で、Windowsシステムでのみ使用できます。



== VMDCのインストールとセットアップ

VMDCはWindows 2019、2022バージョンで実行できます。VMDCインスタンスから指定したvCenterサーバへのネットワーク接続が必要です。確認が完了したら、からVMDCパッケージをダウンロードしlink:https://mysupport.netapp.com/site/tools/tool-eula/vm-data-collector["NetAppツールチェスト"]、パッケージを解凍してバッチファイルを実行し、サービスをインストールして開始します。

VMDCのインストールが完了したら、インストール時に指定したIPアドレスを使用してUIにアクセスします。VMDCログインインターフェイスが起動し、vCenter ServerのIPアドレスまたはDNS名とクレデンシャルを入力してvCenterを追加できます。

. をダウンロードします。link:https://mysupport.netapp.com/site/tools/tool-eula/vm-data-collector["VMDCパッケージ"]
+
image:vmdc-image1.png["入力/出力ダイアログを示す図、または書き込まれた内容を表す図"]

. 指定したフォルダにパッケージを展開します。
+
image:vmdc-image2.png["入力/出力ダイアログを示す図、または書き込まれた内容を表す図"]

. Start_vmdcバッチファイルをクリックして、VMDCパッケージを実行します。コマンドプロンプトが開き、IPアドレスの入力を求められます。
+
image:vmdc-image3.png["入力/出力ダイアログを示す図、または書き込まれた内容を表す図"]

. インストーラによってインストールプロセスが開始され、VMDCサービスが開始されます。
+
image:vmdc-image4.png["入力/出力ダイアログを示す図、または書き込まれた内容を表す図"]

+
image:vmdc-image5.png["入力/出力ダイアログを示す図、または書き込まれた内容を表す図"]

. 完了したら、「Press any key to continue」と入力してコマンドプロンプトを閉じます。
+
image:vmdc-image6.png["入力/出力ダイアログを示す図、または書き込まれた内容を表す図"]




NOTE: データ収集を停止するには、Stop_vmdcバッチファイルをクリックします。


NOTE: 収集したデータを削除してVMDCをリセットするには、reset_vmdcバッチファイルを実行します。reset batファイルを実行すると、既存のデータがすべて削除され、最初から開始されることに注意してください。

image:vmdc-image7.png["入力/出力ダイアログを示す図、または書き込まれた内容を表す図"]



== GUIを使用した手順



=== VMDCの実行

* ブラウザを使用してVMDC UIにアクセス
+
image:vmdc-image8.png["入力/出力ダイアログを示す図、または書き込まれた内容を表す図"]

* [Add vCenter]オプションを使用して、指定したvCenterを追加します。
+
** vCenter Name - vCenterの名前を指定します。
** Endpoint - vCenter ServerのIPアドレスまたはFQDNを入力します。
** Username - vCenterにアクセスするためのユーザ名（UPN形式：username@domain.com）
** パスワード


* 要件に応じて[Additional Details]を変更します。
+
** [Data Interval time]-サンプル集計時間範囲を指定します。デフォルトは5分ですが、必要に応じて30秒または1分に変更できます。
** データ保持–過去の指標を保存する保持期間を指定します。
** パフォーマンス指標の収集–有効にすると、各VMのパフォーマンス指標が収集されます。選択しない場合、VMDCは、VM、ホスト、データストアの詳細を指定するだけで、RVtoolsと同様の機能を提供します。


* 完了したら、[Add VCenter]をクリックします。
+
image:vmdc-image9.png["入力/出力ダイアログを示す図、または書き込まれた内容を表す図"]




NOTE: vCenterが追加されるとすぐにデータ収集が開始されます。vCenterデータベースで使用可能なデータが取得され、指定された「データインターバル時間」に基づいて収集が開始されるため、収集時間をスケジュールする必要はありません。

特定のvCenterのデータを表示するには、ダッシュボードに移動し、該当するvCenter名に対して[View Inventory]をクリックします。VMインベントリとVM属性がページに表示されます。デフォルトでは、[Performance Metrics]はUIでは無効になっていますが、トグルオプションを使用してオンにすることができます。パフォーマンス指標を有効にすると、各VMのパフォーマンスデータが表示されます。ライブパフォーマンスの情報を表示するには、更新ボタンをクリックしてください。



=== VMトポロジの表示

VMDCには、VMごとに[Show Topology]オプションが用意されています。VMディスク、VM、ESXiホスト、データストア、ネットワークなど、リソースとその関係を表示する対話型インターフェイスが用意されています。収集したパフォーマンスデータから得られたインサイトを使用して、管理と監視を行うことができます。トポロジは、基本的な診断を実行し、現在のデータを使用して問題をトラブルシューティングするのに役立ちます。詳細なトラブルシューティングと迅速なMTTRを行うには、エンドツーエンドの依存関係マッピングを含む詳細なトポロジビューを提供するを使用しlink:https://docs.netapp.com/us-en/data-infrastructure-insights/["NetAppデータインフラに関する分析情報"]ます。

トポロジビューにアクセスするには、次の手順を実行します。

* VMDCダッシュボードにアクセスします。
* vCenter名を選択し、[View Inventory]をクリックします。
+
image:vmdc-image10.png["入力/出力ダイアログを示す図、または書き込まれた内容を表す図"]

* VMを選択し、[Show Topology]をクリックします。
+
image:vmdc-image11.png["入力/出力ダイアログを示す図、または書き込まれた内容を表す図"]





=== Excelにエクスポート

収集したを使用可能な形式でキャプチャするには、[Download Report]オプションを使用してXLSXファイルをダウンロードします。

レポートをダウンロードするには、次の手順を実行します。

* VMDCダッシュボードにアクセスします。
* vCenter名を選択し、[View Inventory]をクリックします。
+
image:vmdc-image12.png["入力/出力ダイアログを示す図、または書き込まれた内容を表す図"]

* [Download Report]オプションを選択します。
+
image:vmdc-image13.png["入力/出力ダイアログを示す図、または書き込まれた内容を表す図"]

* 時間範囲を選択します。時間範囲には、4時間から7日までの複数のオプションがあります。
+
image:vmdc-image14.png["入力/出力ダイアログを示す図、または書き込まれた内容を表す図"]



たとえば、必要なデータが過去4時間の場合は、4を選択するか、該当する期間のデータをキャプチャするための適切な値を選択します。生成されたデータは、継続的に集約されます。そのため、期間を選択して、必要なワークロード統計情報が生成されるレポートにキャプチャされるようにします。



=== VMDCデータカウンタ

ダウンロードすると、VMDCに最初に表示されるシートは「VM Info」です。このシートには、vSphere環境に存在するVMに関する情報が含まれています。仮想マシンに関する一般的な情報が表示されます。VM名、電源状態、CPU、プロビジョニング済みメモリ（MB）、使用済みメモリ（MB）、プロビジョニング済み容量（GB）、使用済み容量（GB）、VMwareツールのバージョン、OSバージョン、環境タイプ、データセンター、クラスタ、ホスト、フォルダ、プライマリデータストア、ディスク、NIC、VM ID、VM UUID。

[VM Performance]タブには、選択した間隔レベル（デフォルトは5分）でサンプリングされた各VMのパフォーマンスデータが表示されます。各仮想マシンのサンプルには、平均読み取りIOPS、平均書き込みIOPS、合計平均IOPS、最大読み取りIOPS、最大書き込みIOPS、合計最大IOPS、平均読み取りスループット（KB/秒）、合計平均書き込みスループット（KB/秒）、最大読み取りスループット（KB/秒）、最大書き込みスループット（KB/秒）、平均読み取りスループット（KB/秒）、平均レイテンシ、平均レイテンシ、平均値が含まれます。

[ESXi Host Info]タブには、データセンター、vCenter、クラスタ、OS、メーカー、モデル、CPUソケット、CPUコア、ネットクロック速度（GHz）、CPUクロック速度（GHz）、CPUスレッド、メモリ（GB）、使用メモリ（%）、CPU使用率（%）、ゲストVM数、NIC数が表示されます。



=== 次のステップ

ダウンロードしたXLSXファイルを使用して、最適化とリファクタリングの演習を行います。



== VMDC属性の説明

このセクションでは、Excelシートで使用される各カウンタの定義について説明します。

*仮想マシン情報シート*

image:vmdc-image15.png["入力/出力ダイアログを示す図、または書き込まれた内容を表す図"]

* VMパフォーマンスシート*

image:vmdc-image16.png["入力/出力ダイアログを示す図、または書き込まれた内容を表す図"]

* ESXiホスト情報*

image:vmdc-image17.png["入力/出力ダイアログを示す図、または書き込まれた内容を表す図"]



== まとめ

ライセンスの変更が差し迫っているため、組織は総所有コスト（TCO）の増加の可能性に積極的に対処しています。積極的なリソース管理とサイズ適正化を通じてVMwareインフラを戦略的に最適化し、リソース使用率の向上とキャパシティプランニングの合理化を実現しています。専用のツールを効果的に使用することで、無駄なリソースを効率的に特定して再利用できるため、コア数と全体的なライセンスコストを削減できます。VMDCを使用すると、VMデータを迅速に収集し、スライスして既存の環境をレポートおよび最適化できます。

VMDCを使用して迅速な評価を行い、利用率の低いリソースを特定します。次に、NetApp Data Infrastructure Insights（DII）を使用して、VMの再利用に関する詳細な分析と推奨事項を提供します。これにより、お客様は、NetAppデータインフラ分析情報（DII）の導入と設定の際の潜在的なコスト削減と最適化について理解することができます。NetApp Data Infrastructure Insights（DII）を使用すると、企業は十分な情報に基づいてVM環境の最適化に関する意思決定を行うことができます。IT部門は、本番環境への影響を最小限に抑えながら、リソースの再利用やホストの廃止が可能な場所を特定できるため、BroadcomによるVMwareの買収によってもたらされた変化を、思慮深く戦略的な方法で乗り切ることができます。言い換えれば、詳細な分析メカニズムとしてのVMDCとDIIは、企業が意思決定から感情を取り除くのに役立ちます。この2つのツールが提供する分析情報を活用して、コスト最適化と運用効率と生産性のバランスを取る合理的で戦略的な意思決定を行うことができます。

NetAppを使用すると、仮想環境のサイジングを最適化し、対費用効果の高いフラッシュストレージのパフォーマンスと、シンプルなデータ管理ソリューションとランサムウェアソリューションを実現できます。これにより、現在導入されているITリソースを最適化しながら、新しいサブスクリプションモデルに備えることができます。

image:vmdc-image18.png["入力/出力ダイアログを示す図、または書き込まれた内容を表す図"]



== 次のステップ

VMDCパッケージをダウンロードしてデータを収集し、link:https://mhcsolengg.com/vmwntaptco/["vSAN TCO試算ツール"]簡単な予測のために使用してからlink:https://docs.netapp.com/us-en/data-infrastructure-insights/task_cloud_insights_onboarding_1.html["DII"]、インテリジェンスを継続的に提供し、現在と将来に影響を与えて、新しいニーズが発生した場合に適応できるようにします。
