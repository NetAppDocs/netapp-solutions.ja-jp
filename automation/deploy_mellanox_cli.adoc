---
sidebar: sidebar 
permalink: automation/deploy_mellanox_cli.html 
summary: ネットアップのソリューションを自動化すれば、多くの一般的なインフラタスクやアプリケーションタスクの導入、設定、実行を自動化できます。 
keywords: netapp, mellanox, solutions, automation, ansible 
---
= NetApp 解決策の自動化
:hardbreaks:
:nofooter: 
:icons: font
:linkattrs: 
:table-stripes: odd
:imagesdir: ./media/




=== 手順

CLI で Ansible プレイブックを使用して Mellanox スイッチを設定するには、次の手順を使用します。

. Mellanox ONYX Ansible コレクションをダウンロードします
+
[source, cli]
----
ansible-galaxy collection install -r collections/requirements.yml --force
----
. Mellanox スイッチの設定に必要な Ansible のコンテンツをダウンロードします
+
[source, cli]
----
git clone https://bitbucket.ngage.netapp.com/scm/ns-bb/na_with_mellanox.git
----
. ディレクトリを必要な解決策に変更します
+
[source, cli]
----
cd na_with_mellanox/solutions/nar_hci_mellanox_deploy
----
. 提示された推奨事項 / 推奨事項に基づいて、以下の変数に値を入力してください。すべての変数が要件に従って入力されたら、上部の [ コピー（ Copy ） ] ボタンをクリックして内容をコピーします。



. 現在のディレクトリ（プレイブックと同じディレクトリ）に新しい変数ファイル（ yml ファイル）を作成し、コピーした変数をファイルに貼り付けて保存します。
. 以下の Mellanox スイッチの IP アドレス / ホスト名を入力し、内容をコピーしてください。hosts ファイルを開き、存在するすべての情報を消去して、コピーした内容を貼り付けます。



. 変数ファイルと Mellanox スイッチのユーザ名を渡して、プレイブックを実行します。プロンプトが表示されたら、 Mellanox スイッチのパスワードを入力します。




NOTE: このコマンドでは、 Mellanox スイッチで Mellanox スイッチにログインするための適切なユーザ名を Mellanox スイッチのユーザ名に置き換えてください。
