---
sidebar: sidebar 
permalink: databases/hybrid_dbops_snapcenter_devtest.html 
summary: パブリッククラウドの即応性、価値実現までの時間、コスト削減はすべて、データベースアプリケーションの開発とテストのためにパブリッククラウドを採用する企業にとって有益な価値提案です。このような状況を早急に実現するには、 SnapCenter より優れたツールはありません。SnapCenter では、オンプレミスで本番環境のデータベースを保護できるだけでなく、パブリッククラウドでアプリケーションの開発やコードのテスト用にコピーをすばやくクローニングして、余分なストレージの消費量を最小限に抑えることができます。以下に、ツールを使用したステップバイステッププロセスの詳細を示します。 
keywords: hybrid cloud, database, solutions, dev/test, workflow 
---
= クラウドへの開発 / テストバースト対応ワークフロー
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ../media/


[role="lead"]
パブリッククラウドの即応性、価値実現までの時間、コスト削減はすべて、データベースアプリケーションの開発とテストのためにパブリッククラウドを採用する企業にとって有益な価値提案です。このような状況を実現するためのツールは、 SnapCenter よりも優れています。SnapCenter では、オンプレミスで本番環境のデータベースを保護できるだけでなく、パブリッククラウドでのアプリケーション開発やコードテスト用にコピーをすばやくクローニングして、余分なストレージの消費量を最小限に抑えることもできます。以下に、このツールを使用するためのステップバイステッププロセスの詳細を示します。



== レプリケートされた Snapshot バックアップから、開発 / テスト用の Oracle データベースをクローニングします

. Oracle 用のデータベース管理ユーザ ID で SnapCenter にログインします。リソースタブに移動します。このタブには、 SnapCenter で保護されている Oracle データベースが表示されます。
+
image::snapctr_ora_clone_01.PNG[snapctr oraクローン01]

. バックアップトポロジと詳細表示に使用するオンプレミスデータベースの名前をクリックします。セカンダリでレプリケートされた場所が有効になっている場合は、リンクされたミラーバックアップが表示されます。
+
image::snapctr_ora_clone_02.PNG[snapctr oraクローン02]

. ミラーバックアップをクリックして、ミラーバックアップビューに切り替えました。その後、セカンダリミラーバックアップが表示されます。
+
image::snapctr_ora_clone_03.PNG[snapctr oraクローン03]

. クローニングするミラーされたセカンダリデータベースバックアップコピーを選択し、時間およびシステムの変更番号または SCN でリカバリポイントを決定します。通常は、クローニングするフルデータベースバックアップ時間または SCN の末尾にリカバリポイントを設定します。リカバリポイントを決定したら、必要なログファイルのバックアップをリカバリ用にマウントする必要があります。ログファイルのバックアップは、クローンデータベースをホストする対象の DB サーバにマウントする必要があります。
+
image::snapctr_ora_clone_04.PNG[snapctr oraクローン04]

+
image::snapctr_ora_clone_05.PNG[snapctr oraクローン05]

+

NOTE: ログの削除が有効で、リカバリポイントが最後のログの削除よりも長くなっている場合は、複数のアーカイブログのバックアップのマウントが必要になることがあります。

. クローニングするフルデータベースバックアップコピーを選択し、クローンボタンをクリックして DB クローンワークフローを開始します。
+
image::snapctr_ora_clone_06.PNG[snapctr oraクローン06]

. 完全なコンテナデータベースまたは CDB クローンに適したクローン DB SID を選択してください。
+
image::snapctr_ora_clone_07.PNG[snapctr oraクローン07]

. クラウド内のターゲットクローンホストを選択すると、クローンワークフローによってデータファイル、制御ファイル、および REDO ログディレクトリが作成されます。
+
image::snapctr_ora_clone_08.PNG[snapctr oraクローン08]

. なしクレデンシャル名は OS ベースの認証に使用され、データベースポートは無関係になります。ターゲットのクローン DB サーバで設定した Oracle Home 、 Oracle OS User 、 Oracle OS Group を適切な値に設定します。
+
image::snapctr_ora_clone_09.PNG[snapctr oraクローン09]

. クローニング処理の前に実行するスクリプトを指定します。さらに重要な点は、ここでデータベースインスタンスのパラメータを調整または定義できることです。
+
image::snapctr_ora_clone_10.PNG[Snapctr oraクローン10]

. 日時または SCN でリカバリポイントを指定します。Cancel を実行するまで ' データベースは使用可能なアーカイブ・ログまでリカバリされますアーカイブログボリュームをマウントするターゲットホストから、外部アーカイブログの場所を指定します。ターゲットサーバの Oracle 所有者がオンプレミスの本番サーバと異なる場合は、アーカイブログディレクトリがターゲットサーバの Oracle 所有者によって読み取り可能であることを確認します。
+
image::snapctr_ora_clone_11.PNG[Snapctr oraクローン11]

+
image::snapctr_ora_clone_12.PNG[Snapctr oraクローン12]

. 必要に応じて、 SMTP サーバに E メール通知を設定します。
+
image::snapctr_ora_clone_13.PNG[Snapctr oraクローン13]

. クローンの概要：
+
image::snapctr_ora_clone_14.PNG[Snapctr oraクローン14]

. クローニング後に検証して、クローンデータベースが正常に動作することを確認する必要があります。開発 / テストデータベースでは、リスナーの起動や DB ログアーカイブモードのオフなどのいくつかの追加タスクを実行できます。
+
image::snapctr_ora_clone_15.PNG[Snapctr oraクローン15]





== レプリケートされた Snapshot バックアップから、開発 / テスト用の SQL データベースをクローニングします

. SQL Server 用のデータベース管理ユーザ ID で SnapCenter にログインします。[ リソース ] タブに移動します。このタブには、 SnapCenter によって保護されている SQL Server ユーザーデータベースとパブリッククラウド内のターゲットスタンバイ SQL インスタンスが表示されます。
+
image::snapctr_sql_clone_01.PNG[snapctr SQLクローン01]

. バックアップトポロジおよび詳細ビューで使用するオンプレミス SQL Server ユーザデータベース名をクリックします。セカンダリでレプリケートされた場所が有効になっている場合は、リンクされたミラーバックアップが表示されます。
+
image::snapctr_sql_clone_02.PNG[snapctr SQLクローン02]

. ミラーバックアップをクリックして、ミラーバックアップビューに切り替えます。セカンダリミラーバックアップが表示されます。SnapCenter では SQL Server トランザクションログがリカバリ専用のドライブにバックアップされるため、ここにはフルデータベースバックアップのみが表示されます。
+
image::snapctr_sql_clone_03.PNG[snapctr SQLクローン03]

. バックアップコピーを選択し、 [ クローン ] ボタンをクリックして、 [ バックアップからクローン ] ワークフローを起動します。
+
image::snapctr_sql_clone_04_1.PNG[snapctr SQLクローン04 1]

+
image::snapctr_sql_clone_04.PNG[snapctr SQLクローン04]

. ターゲットクローンサーバとしてクラウドサーバを選択し、クローンインスタンス名を指定し、クローンデータベース名を指定します。自動割り当てマウントポイントまたはユーザ定義のマウントポイントパスを選択します。
+
image::snapctr_sql_clone_05.PNG[snapctr SQLクローン05]

. リカバリポイントは、ログのバックアップ時刻または特定の日時を基準に決定します。
+
image::snapctr_sql_clone_06.PNG[snapctr SQLクローン06]

. クローニング処理の前後に実行するオプションのスクリプトを指定します。
+
image::snapctr_sql_clone_07.PNG[snapctr SQLクローン07]

. E メール通知が必要な場合は、 SMTP サーバを設定します。
+
image::snapctr_sql_clone_08.PNG[snapctr SQLクローン08]

. クローンの概要。
+
image::snapctr_sql_clone_09.PNG[snapctr SQLクローン09]

. ジョブステータスを監視し、目的のユーザデータベースがクラウドクローンサーバのターゲット SQL インスタンスに接続されていることを確認します。
+
image::snapctr_sql_clone_10.PNG[snapctr SQLクローン10]





== クローン後の設定

. 通常、オンプレミスの Oracle 本番データベースはログアーカイブモードで実行されます。このモードは、開発データベースやテストデータベースには必要ありません。ログアーカイブモードをオフにするには、 Oracle DB に sysdba でログインし、ログモード変更コマンドを実行して、データベースにアクセスできるようにします。
. Oracle リスナーを設定するか、新しくクローニングされた DB をユーザアクセス用の既存のリスナーに登録します。
. SQL Server の場合は、ログボリュームがいっぱいになったときに SQL Server 開発 / テストログファイルを簡単に縮小できるように、ログモードを「 Full 」から「 Easy 」に変更します。




== クローンデータベースをリフレッシュします

. クローニングされたデータベースを削除し、クラウド DB サーバ環境をクリーンアップします。次に、前の手順に従って、新しいデータで新しい DB のクローンを作成します。新しいデータベースのクローニングには数分しかかかりません。
. クローンデータベースをシャットダウンし、 CLI を使用してクローン更新コマンドを実行します。詳細については、次の SnapCenter のドキュメントを参照してください。 link:https://docs.netapp.com/us-en/snapcenter/protect-sco/task_refresh_a_clone.html["クローンをリフレッシュします"^]。




== サポートが必要な場所

この解決策やユースケースに関するサポートが必要な場合は、に参加してください link:https://netapppub.slack.com/archives/C021R4WC0LC["ネットアップの解決策自動化コミュニティでは、余裕期間のチャネルがサポートさ"] また、ソリューション自動化チャネルを検索して、質問や問い合わせを投稿しましょう。
