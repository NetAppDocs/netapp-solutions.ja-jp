---
sidebar: sidebar 
permalink: data-analytics/bda-ai-gpfs-to-netapp-ontap-nfs.html 
keywords: GPFS, nfs, nsd, admin node, quorum node, manager node, nsd server, protocol node 
summary: この検証では、 4 台のサーバを Network Shared Disk （ NSD; ネットワーク共有ディスク）サーバとして使用して、 GPFS 用の物理ディスクを提供しました。GPF は、次の図に示すように、 NFS エクスポートとしてエクスポートするために NSD ディスクの上に作成されます。XCP を使用して、 GPFS でエクスポートされた NFS から NetApp NFS ボリュームにデータをコピーしました。 
---
= NetApp ONTAP NFS への GPF
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ../media/


[role="lead"]
この検証では、 4 台のサーバを Network Shared Disk （ NSD; ネットワーク共有ディスク）サーバとして使用して、 GPFS 用の物理ディスクを提供しました。GPF は、次の図に示すように、 NFS エクスポートとしてエクスポートするために NSD ディスクの上に作成されます。XCP を使用して、 GPFS でエクスポートされた NFS から NetApp NFS ボリュームにデータをコピーしました。

image:bda-ai-image5.png["入力/出力ダイアログを示す図、または書き込まれた内容を表す図"]



== GPF の要点

GPFS では、次のノードタイプが使用されます。

* *管理ノード*ノード間の通信に管理コマンドで使用されるノード名を含むオプションのフィールドを指定します。たとえば、管理ノードは `mastr-51.netapp.com`クラスタ内の他のすべてのノードにネットワークチェックをパスできます。
* *定足数ノード。*クォーラムの取得元となるノードのプールにノードが含まれるかどうかを指定します。少なくとも 1 つのノードがクォーラムノードとして必要です。
* *マネージャノード。*ノードが、ファイルシステムマネージャとトークンマネージャを選択できるノードプールの一部であるかどうかを示します。複数のノードをマネージャーノードとして定義することをお勧めします。マネージャとして指定するノードの数は、ワークロードと所有する GPFS サーバライセンスの数によって異なります。大規模な並列ジョブを実行する場合は、 Web アプリケーションをサポートする 4 ノードクラスタよりも多くのマネージャノードが必要になることがあります。
* * NSDサーバ*GPFSで使用する各物理ディスクを準備するサーバ。
* *プロトコルノード。*NFSとSecure Shell（SSH）プロトコルを使用してGPFSデータを直接共有するノード。このノードには GPFS サーバーライセンスが必要です。




== GPFS 、 NFS 、および XCP の操作のリスト

このセクションでは、 GPFS を作成し、 NFS エクスポートとして GPFS をエクスポートし、 XCP を使用してデータを転送する操作について説明します。



=== GPFSの作成

GPFS を作成するには、次の手順を実行します。

. Linux 版のスペクトルスケールデータアクセスをいずれかのサーバにダウンロードしてインストールします。
. すべてのノードに前提条件パッケージ（シェフなど）をインストールし、すべてのノードで Security-Enhanced Linux （ SELinux ）を無効にする。
. インストールノードをセットアップし、管理ノードと GPFS ノードをクラスタ定義ファイルに追加します。
. マネージャーノード、クォーラムノード、 NSD サーバー、および GPFS ノードを追加します。
. GUI 、管理ノード、 GPFS ノードを追加し、必要に応じて GUI サーバを追加します。
. 別の GPFS ノードを追加し、すべてのノードのリストを確認します。
. クラスタ定義ファイル内のすべての GPFS ノードで設定するクラスタ名、プロファイル、リモートシェルバイナリ、リモートファイルコピーバイナリ、およびポート範囲を指定します。
. GPFS 構成設定を表示し、追加の管理ノードを追加します。
. データ収集を無効にし、 IBM サポートセンターにデータパッケージをアップロードします。
. インストールの前に、 NTP を有効にし、構成を事前確認します。
. NSD ディスクを構成、作成、およびチェックする。
. GPFSを作成
. GPFS をマウントします。
. GPFS に必要な権限を確認して提供します。
. コマンドを実行して、GPFSの読み取りと書き込みを確認します `dd`。




=== GPFS を NFS にエクスポートする

GPFS を NFS にエクスポートするには、次の手順を実行します。

. ファイルを使用してGPFSをNFSとしてエクスポートし `/etc/exports`ます。
. 必要な NFS サーバパッケージをインストールします。
. NFS サービスを開始します。
. NFS クライアントを検証するために、 GPFS 内のファイルをリストします。




=== NFS クライアントを設定します

NFS クライアントを設定するには、次の手順を実行します。

. ファイルを使用して、GPFSをNFSとしてエクスポートし `/etc/exports`ます。
. NFS クライアントサービスを開始します。
. NFS クライアントで NFS プロトコルを使用して GPFS をマウントします。
. NFS Mounted フォルダ内の GPFS ファイルのリストを検証します。
. XCP を使用して、 GPFS エクスポート NFS から NetApp NFS にデータを移動します。
. NFS クライアントで GPFS ファイルを検証します。

